

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/wanye.jpg">
  <link rel="icon" href="/img/wanye.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="å°æ—¥æœˆ">
  <meta name="keywords" content="">
  
    <meta name="description" content="ğŸ­ Vue ç³»åˆ—1. ä»€ä¹ˆæ˜¯ Vue Vue.js æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºç”¨æˆ·ç•Œé¢çš„å¼€æº JavaScript æ¡†æ¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåˆ›å»ºå•é¡µåº”ç”¨çš„ Web åº”ç”¨æ¡†æ¶.  Vue ç‰¹ç‚¹ æ•°æ®é©±åŠ¨&#x2F;å“åº”å¼æ•°æ®ç»‘å®šï¼ŒåŒå‘æ•°æ®ç»‘å®š  å®ƒé‡‡ç”¨äº† MVVM ï¼ˆModel-View-ViewModelï¼‰çš„æ¶æ„æ¨¡å¼ï¼Œå°†æ•°æ®æ¨¡å‹ï¼ˆModelï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰è¿›è¡Œå…³è”ï¼Œå¹¶é€šè¿‡ ViewModel æ¥ç®¡ç†è¿™ç§å…³è”ã€‚å½“æ•°">
<meta property="og:type" content="article">
<meta property="og:title" content="Vueç³»åˆ—">
<meta property="og:url" content="http://example.com/2024/02/17/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/Vue%E7%B3%BB%E5%88%97/index.html">
<meta property="og:site_name" content="å°æ—¥æœˆçš„åšå®¢">
<meta property="og:description" content="ğŸ­ Vue ç³»åˆ—1. ä»€ä¹ˆæ˜¯ Vue Vue.js æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºç”¨æˆ·ç•Œé¢çš„å¼€æº JavaScript æ¡†æ¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåˆ›å»ºå•é¡µåº”ç”¨çš„ Web åº”ç”¨æ¡†æ¶.  Vue ç‰¹ç‚¹ æ•°æ®é©±åŠ¨&#x2F;å“åº”å¼æ•°æ®ç»‘å®šï¼ŒåŒå‘æ•°æ®ç»‘å®š  å®ƒé‡‡ç”¨äº† MVVM ï¼ˆModel-View-ViewModelï¼‰çš„æ¶æ„æ¨¡å¼ï¼Œå°†æ•°æ®æ¨¡å‹ï¼ˆModelï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰è¿›è¡Œå…³è”ï¼Œå¹¶é€šè¿‡ ViewModel æ¥ç®¡ç†è¿™ç§å…³è”ã€‚å½“æ•°">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2024/02/17/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/Vue%E7%B3%BB%E5%88%97/lifecycle.png">
<meta property="article:published_time" content="2024-02-17T13:32:58.000Z">
<meta property="article:modified_time" content="2024-02-28T12:19:53.273Z">
<meta property="article:author" content="å°æ—¥æœˆ">
<meta property="article:tag" content="Vueç³»åˆ—-1">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2024/02/17/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/Vue%E7%B3%BB%E5%88%97/lifecycle.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Vueç³»åˆ— - å°æ—¥æœˆçš„åšå®¢</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":true,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 80vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>å°æ—¥æœˆ</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
            
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
            
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
            
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
            
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
            
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                å‹é“¾
              </a>
            </li>
          
        
          
          
            
          
            <li class="nav-item">
              <a class="nav-link" href="/example/">
                <i class="iconfont icon-image"></i>
                echarts
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/example1.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Vueç³»åˆ—"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-02-17 21:32" pubdate>
          2024å¹´2æœˆ17æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          35k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          292 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> æ¬¡
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Vueç³»åˆ—</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="ğŸ­-Vue-ç³»åˆ—"><a href="#ğŸ­-Vue-ç³»åˆ—" class="headerlink" title="ğŸ­ Vue ç³»åˆ—"></a>ğŸ­ Vue ç³»åˆ—</h1><h2 id="1-ä»€ä¹ˆæ˜¯-Vue"><a href="#1-ä»€ä¹ˆæ˜¯-Vue" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ Vue"></a>1. ä»€ä¹ˆæ˜¯ Vue</h2><blockquote>
<p>Vue.js æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºç”¨æˆ·ç•Œé¢çš„å¼€æº JavaScript æ¡†æ¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåˆ›å»ºå•é¡µåº”ç”¨çš„ Web åº”ç”¨æ¡†æ¶.</p>
</blockquote>
<h3 id="Vue-ç‰¹ç‚¹"><a href="#Vue-ç‰¹ç‚¹" class="headerlink" title="Vue ç‰¹ç‚¹"></a>Vue ç‰¹ç‚¹</h3><ol>
<li><p><strong>æ•°æ®é©±åŠ¨&#x2F;å“åº”å¼æ•°æ®ç»‘å®šï¼ŒåŒå‘æ•°æ®ç»‘å®š</strong></p>
<ol>
<li>å®ƒé‡‡ç”¨äº† MVVM ï¼ˆModel-View-ViewModelï¼‰çš„æ¶æ„æ¨¡å¼ï¼Œå°†æ•°æ®æ¨¡å‹ï¼ˆModelï¼‰ä¸è§†å›¾ï¼ˆViewï¼‰è¿›è¡Œå…³è”ï¼Œå¹¶é€šè¿‡ ViewModel æ¥ç®¡ç†è¿™ç§å…³è”ã€‚<br><br>å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVue.js å°†è´Ÿè´£æ›´æ–°è§†å›¾ï¼Œä»è€Œå®ç°äº†æ•°æ®é©±åŠ¨è§†å›¾çš„æ›´æ–°<br><br>è¿™ä½¿å¾—å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºæ•°æ®é€»è¾‘ï¼Œè€Œä¸å¿…ç›´æ¥æ“ä½œ DOMã€‚<br>
é€šè¿‡åŒå‘æ•°æ®ç»‘å®šï¼ŒVue.js ä¸ä»…å¯ä»¥å°†æ•°æ®å˜åŒ–åæ˜ åˆ°è§†å›¾ä¸Šï¼Œè¿˜å¯ä»¥å°†è§†å›¾ä¸­ç”¨æˆ·çš„æ“ä½œåé¦ˆåˆ°æ•°æ®æ¨¡å‹ä¸­ï¼Œä½¿å¾—æ•°æ®æ¨¡å‹ä¸è§†å›¾ä¹‹é—´å¯ä»¥åŒå‘åŒæ­¥ã€‚</li>
</ol>
</li>
<li><p><strong>ç»„ä»¶åŒ–</strong></p>
<blockquote>
<p>Vue å…è®¸å°†é¡µé¢æ‹†åˆ†æˆç‹¬ç«‹çš„ç»„ä»¶(åœ¨ Vue ä¸­æ¯ä¸€ä¸ª.vue æ–‡ä»¶éƒ½å¯ä»¥è§†ä¸ºä¸€ä¸ªç»„ä»¶)ï¼Œæ¯ä¸ªç»„ä»¶æœ‰è‡ªå·±çš„é€»è¾‘ã€æ¨¡æ¿å’Œæ ·å¼ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚</p>
</blockquote>
</li>
<li><p><strong>æŒ‡ä»¤ç³»ç»Ÿ</strong></p>
<blockquote>
<p>æŒ‡ä»¤ (Directives) Vue æä¾›äº†ä¸°å¯Œçš„æŒ‡ä»¤æ¥æ“ä½œ DOMï¼Œä¾‹å¦‚ v-ifã€v-forã€v-bind ç­‰ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿç®€æ´åœ°å¤„ç† DOM å…ƒç´ çš„æ˜¾ç¤ºå’Œéšè—ã€å¾ªç¯æ¸²æŸ“ã€å±æ€§ç»‘å®šç­‰æ“ä½œ</p>
</blockquote>
</li>
<li><p><strong>è™šæ‹Ÿ DOM</strong></p>
<blockquote>
<p>Vue ä½¿ç”¨è™šæ‹Ÿ DOM æ¥é«˜æ•ˆåœ°æ¸²æŸ“é¡µé¢ï¼Œé€šè¿‡æ¯”è¾ƒè™šæ‹Ÿ DOM å’ŒçœŸå® DOM çš„å·®å¼‚ï¼Œæœ€å°åŒ–äº† DOM æ“ä½œï¼Œæå‡äº†æ€§èƒ½ã€‚</p>
</blockquote>
</li>
<li><p><strong>ç”Ÿå‘½å‘¨æœŸé’©å­</strong></p>
<blockquote>
<p>Vue ç»„ä»¶å…·æœ‰å¤šä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¾‹å¦‚ createdã€mountedã€updatedã€destroyed ç­‰ï¼Œåœ¨ä¸åŒé˜¶æ®µæ‰§è¡Œç›¸åº”çš„é€»è¾‘ï¼Œæ–¹ä¾¿å¼€å‘è€…è¿›è¡Œèµ„æºçš„åˆå§‹åŒ–å’Œæ¸…ç†ã€‚</p>
</blockquote>
</li>
</ol>
<h2 id="2-SPA-å•é¡µåº”ç”¨-single-page-application"><a href="#2-SPA-å•é¡µåº”ç”¨-single-page-application" class="headerlink" title="2. SPA å•é¡µåº”ç”¨(single-page application)"></a>2. SPA å•é¡µåº”ç”¨(single-page application)</h2><blockquote>
<p>åŸºäº Web çš„åº”ç”¨ç¨‹åºæ¶æ„æ¨¡å¼ï¼Œå®ƒé€šè¿‡åŠ¨æ€åœ°æ›´æ–°å½“å‰é¡µé¢è€Œä¸æ˜¯åŠ è½½æ•´ä¸ªæ–°é¡µé¢æ¥å®ç°ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„äº¤äº’.æ‰€æœ‰å¿…è¦çš„ä»£ç ï¼ˆHTMLã€JavaScript å’Œ CSSï¼‰éƒ½é€šè¿‡å•ä¸ªé¡µé¢çš„åŠ è½½è€Œæ£€ç´¢ï¼Œæˆ–è€…æ ¹æ®éœ€è¦ï¼ˆé€šå¸¸æ˜¯ä¸ºå“åº”ç”¨æˆ·æ“ä½œï¼‰åŠ¨æ€è£…è½½é€‚å½“çš„èµ„æºå¹¶æ·»åŠ åˆ°é¡µé¢é¡µé¢åœ¨ä»»ä½•æ—¶é—´ç‚¹éƒ½ä¸ä¼šé‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚</p>
</blockquote>
<h3 id="SPA-ä¼˜ç‚¹-x2F-ç¼ºç‚¹"><a href="#SPA-ä¼˜ç‚¹-x2F-ç¼ºç‚¹" class="headerlink" title="SPA ä¼˜ç‚¹&#x2F;ç¼ºç‚¹"></a>SPA ä¼˜ç‚¹&#x2F;ç¼ºç‚¹</h3><ol>
<li><p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li>è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼šSPA æä¾›äº†æ›´åŠ æµç•…ã€å¿«é€Ÿçš„ç”¨æˆ·ä½“éªŒï¼Œå› ä¸ºé¡µé¢åˆ‡æ¢æ—¶ä¸éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œåªéœ€è¦æ›´æ–°éƒ¨åˆ†å†…å®¹ã€‚</li>
<li>å‰åç«¯åˆ†ç¦»ï¼šSPA çš„å‰ç«¯å’Œåç«¯å¯ä»¥å®Œå…¨åˆ†ç¦»ï¼Œå‰ç«¯è´Ÿè´£ UI å’Œäº¤äº’é€»è¾‘ï¼Œåç«¯è´Ÿè´£æ•°æ®å¤„ç†å’Œä¸šåŠ¡é€»è¾‘ï¼Œä½¿å¾—å›¢é˜Ÿå¯ä»¥æ›´å¥½åœ°åˆ†å·¥åˆä½œã€‚</li>
<li>å‡å°‘æœåŠ¡å™¨è´Ÿæ‹…ï¼šç”±äºé¡µé¢ä¸éœ€è¦æ¯æ¬¡éƒ½ä»æœåŠ¡å™¨é‡æ–°åŠ è½½ï¼Œå› æ­¤å¯ä»¥å‡å°‘æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œé™ä½ç½‘ç»œæµé‡ã€‚</li>
<li>æ›´å¥½çš„ä»£ç ç»„ç»‡ï¼šSPA é€šå¸¸é‡‡ç”¨æ¨¡å—åŒ–çš„å¼€å‘æ–¹å¼ï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºç»´æŠ¤å’Œç®¡ç†ã€‚</li>
</ol>
</li>
<li><p>ç¼ºç‚¹ï¼š</p>
<ol>
<li>é¦–æ¬¡åŠ è½½æ…¢ï¼šç”±äºåˆå§‹é¡µé¢éœ€è¦åŠ è½½æ‰€æœ‰å¿…è¦èµ„æºï¼Œå› æ­¤é¦–æ¬¡åŠ è½½å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ï¼Œå°¤å…¶æ˜¯å¯¹äºè¾ƒå¤§å‹çš„åº”ç”¨ç¨‹åºã€‚</li>
<li>SEO éš¾åº¦è¾ƒå¤§ï¼šç”±äºå¤§éƒ¨åˆ†å†…å®¹æ˜¯é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆçš„ï¼Œæœç´¢å¼•æ“çš„çˆ¬è™«å¯èƒ½æ— æ³•æ­£ç¡®åœ°è§£æå’Œç´¢å¼•é¡µé¢å†…å®¹ï¼Œå½±å“ SEOã€‚</li>
<li>å†…å­˜å ç”¨è¾ƒé«˜ï¼šç”±äºé¡µé¢ä¸ä¼šé‡æ–°åŠ è½½ï¼Œå› æ­¤å¯èƒ½ä¼šå¯¼è‡´å†…å­˜å ç”¨è¾ƒé«˜ï¼Œå°¤å…¶æ˜¯åœ¨é•¿æ—¶é—´ä½¿ç”¨åº”ç”¨ç¨‹åºåã€‚</li>
</ol>
</li>
</ol>
<h3 id="SPA-çš„åŸç†å’Œå®ç°"><a href="#SPA-çš„åŸç†å’Œå®ç°" class="headerlink" title="SPA çš„åŸç†å’Œå®ç°"></a>SPA çš„åŸç†å’Œå®ç°</h3><ol>
<li><p>åŸç†ï¼š</p>
<ol>
<li>é€šè¿‡ç›‘å¬ URL çš„å˜åŒ–ï¼Œä½¿ç”¨ History API æˆ–è€… hashchange äº‹ä»¶ï¼Œæ¥å®ç°é¡µé¢çš„åˆ‡æ¢ã€‚</li>
<li>é€šè¿‡ Ajax è¯·æ±‚è·å–æ•°æ®ï¼Œç„¶åä½¿ç”¨ JavaScript æ›´æ–°é¡µé¢å†…å®¹ã€‚</li>
</ol>
</li>
<li><p>å®ç°ï¼š</p>
</li>
</ol>
<ol>
<li><p>hash æ¨¡å¼ï¼šé€šè¿‡ç›‘å¬ hashchange äº‹ä»¶ï¼Œæ¥å®ç°é¡µé¢çš„åˆ‡æ¢ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å®šä¹‰ Router</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Router</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span> = &#123;&#125; <span class="hljs-comment">// å­˜æ”¾è·¯ç”±pathåŠcallback</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentUrl</span> = <span class="hljs-string">&#x27;&#x27;</span><br><br>    <span class="hljs-comment">// ç›‘å¬è·¯ç”±changeè°ƒç”¨ç›¸å¯¹åº”çš„è·¯ç”±å›è°ƒ</span><br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;load&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">refresh</span>, <span class="hljs-literal">false</span>)<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;hashchange&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">refresh</span>, <span class="hljs-literal">false</span>)<br>  &#125;<br><br>  <span class="hljs-title function_">route</span>(<span class="hljs-params">path, callback</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path] = callback<br>  &#125;<br><br>  <span class="hljs-title function_">push</span>(<span class="hljs-params">path</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path] &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path]()<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// ä½¿ç”¨ router</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">miniRouter</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Router</span>()<br>miniRouter.<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;page1&#x27;</span>))<br>miniRouter.<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;/page2&#x27;</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;page2&#x27;</span>))<br><br>miniRouter.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;/&#x27;</span>) <span class="hljs-comment">// page1</span><br>miniRouter.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;/page2&#x27;</span>) <span class="hljs-comment">// page2</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>history æ¨¡å¼ï¼šé€šè¿‡ç›‘å¬ popstate äº‹ä»¶ï¼Œæ¥å®ç°é¡µé¢çš„åˆ‡æ¢ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å®šä¹‰ Router</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Router</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span> = &#123;&#125;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">listerPopState</span>()<br>  &#125;<br><br>  <span class="hljs-title function_">init</span>(<span class="hljs-params">path</span>) &#123;<br>    history.<span class="hljs-title function_">replaceState</span>(&#123; <span class="hljs-attr">path</span>: path &#125;, <span class="hljs-literal">null</span>, path)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path] &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path]()<br>  &#125;<br><br>  <span class="hljs-title function_">route</span>(<span class="hljs-params">path, callback</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path] = callback<br>  &#125;<br><br>  <span class="hljs-title function_">push</span>(<span class="hljs-params">path</span>) &#123;<br>    history.<span class="hljs-title function_">pushState</span>(&#123; <span class="hljs-attr">path</span>: path &#125;, <span class="hljs-literal">null</span>, path)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path] &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>[path]()<br>  &#125;<br><br>  <span class="hljs-title function_">listerPopState</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;popstate&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">const</span> path = e.<span class="hljs-property">state</span> &amp;&amp; e.<span class="hljs-property">state</span>.<span class="hljs-property">path</span><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">routers</span>[path] &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">routers</span>[path]()<br>    &#125;)<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// ä½¿ç”¨ Router</span><br><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">miniRouter</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Router</span>()<br>miniRouter.<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;page1&#x27;</span>))<br>miniRouter.<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;/page2&#x27;</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;page2&#x27;</span>))<br><br><span class="hljs-comment">// è·³è½¬</span><br>miniRouter.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;/page2&#x27;</span>) <span class="hljs-comment">// page2</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="3-v-if-å’Œ-v-show-åŒºåˆ«"><a href="#3-v-if-å’Œ-v-show-åŒºåˆ«" class="headerlink" title="3. v-if å’Œ v-show åŒºåˆ«"></a>3. v-if å’Œ v-show åŒºåˆ«</h2><h3 id="å…±åŒç‚¹ï¼šæ§åˆ¶å…ƒç´ åœ¨é¡µé¢æ˜¯å¦æ˜¾ç¤º"><a href="#å…±åŒç‚¹ï¼šæ§åˆ¶å…ƒç´ åœ¨é¡µé¢æ˜¯å¦æ˜¾ç¤º" class="headerlink" title="å…±åŒç‚¹ï¼šæ§åˆ¶å…ƒç´ åœ¨é¡µé¢æ˜¯å¦æ˜¾ç¤º"></a>å…±åŒç‚¹ï¼šæ§åˆ¶å…ƒç´ åœ¨é¡µé¢æ˜¯å¦æ˜¾ç¤º</h3><h3 id="åŒºåˆ«ï¼š"><a href="#åŒºåˆ«ï¼š" class="headerlink" title="åŒºåˆ«ï¼š"></a>åŒºåˆ«ï¼š</h3><ol>
<li><p>æ§åˆ¶å’Œç¼–è¯‘ï¼š<br><br>v-show åªæ˜¯ç®€å•çš„åŸºäº css åˆ‡æ¢ã€éšè—åˆ™æ˜¯ä¸ºè¯¥å…ƒç´ æ·»åŠ  cssâ€“display:noneï¼Œdom å…ƒç´ ä¾æ—§è¿˜åœ¨ã€‚<br><br>v-if æ˜¾ç¤ºéšè—æ˜¯å°† dom å…ƒç´ æ•´ä¸ªæ·»åŠ æˆ–åˆ é™¤ï¼Œv-if åˆ‡æ¢æœ‰ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘&#x2F;å¸è½½çš„è¿‡ç¨‹ï¼Œåˆ‡æ¢è¿‡ç¨‹ä¸­åˆé€‚åœ°é”€æ¯å’Œé‡å»ºå†…éƒ¨çš„äº‹ä»¶ç›‘å¬å’Œå­ç»„ä»¶ï¼›</p>
</li>
<li><p>ç”Ÿå‘½å‘¨æœŸï¼š<br><br>v-show ç”± false å˜ä¸º true çš„æ—¶å€™ä¸ä¼šè§¦å‘ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ<br><br>v-if ç”± false å˜ä¸º true çš„æ—¶å€™ï¼Œè§¦å‘ç»„ä»¶çš„ beforeCreateã€createã€beforeMountã€mounted é’©å­ï¼Œç”± true å˜ä¸º false çš„æ—¶å€™è§¦å‘ç»„ä»¶çš„ beforeDestoryã€destoryed æ–¹æ³•</p>
</li>
<li><p>æ€§èƒ½æ¶ˆè€—ï¼šv-if æœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—ï¼›v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ï¼›</p>
</li>
</ol>
<h2 id="4-Vue-å®ä¾‹æŒ‚è½½çš„è¿‡ç¨‹"><a href="#4-Vue-å®ä¾‹æŒ‚è½½çš„è¿‡ç¨‹" class="headerlink" title="4. Vue å®ä¾‹æŒ‚è½½çš„è¿‡ç¨‹"></a>4. Vue å®ä¾‹æŒ‚è½½çš„è¿‡ç¨‹</h2><ol>
<li>new Vue çš„æ—¶å€™è°ƒç”¨ä¼šè°ƒç”¨_init æ–¹æ³•</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Vue</span>(<span class="hljs-params">options</span>) &#123;<br>  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> !== <span class="hljs-string">&#x27;production&#x27;</span> &amp;&amp; !(<span class="hljs-variable language_">this</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Vue</span>)) &#123;<br>    <span class="hljs-title function_">warn</span>(<span class="hljs-string">&#x27;Vue is a constructor and should be called with the `new` keyword&#x27;</span>)<br>  &#125;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_init</span>(options)<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>é¦–å…ˆå¯ä»¥çœ‹ initMixin æ–¹æ³•ï¼Œå‘ç°è¯¥æ–¹æ³•åœ¨ Vue åŸå‹ä¸Šå®šä¹‰äº†_init æ–¹æ³•</p>
</blockquote>
<p>åœ¨ init() ä¸­ ä¼šé€šè¿‡ callHook(vm,beforeCreate) æ¥æ‰§è¡Œ beforeCreate ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç„¶åé€šè¿‡ initStateï¼ˆvmï¼‰ åˆå§‹åŒ– props ã€ methods ã€data<br>æ¥ç€ä¼šé€šè¿‡ callHook(vm, â€˜createdâ€™) æ¥æ‰§è¡Œ created ç”Ÿå‘½å‘¨æœŸå‡½æ•° æœ€åé€šè¿‡ vm.$mount(vm.$options.el) æ¥æŒ‚è½½å…ƒç´ </p>
<blockquote>
<p>åœ¨ initState ä¸­ä¼šå…ˆé€šè¿‡ initProps ã€ initMethods ã€ initData å…ˆååˆ†åˆ«æ¥åˆå§‹åŒ– ç›¸å…³æ•°æ® åœ¨è¿™é‡Œä¼š åˆå§‹åŒ–ç»„ä»¶çš„ watcher åˆ—è¡¨</p>
</blockquote>
<blockquote>
<p>initData ä¸­ä¼šé€šè¿‡ observe(data, true) æ¥åŠ«æŒ data çš„æ‰€æœ‰å±æ€§ï¼Œå¦‚æœç›‘å¬åˆ°æ•°æ®å˜åŒ–å°±é€šçŸ¥è®¢é˜…è€… watcher æ¥æ›´æ–°æ•°æ®ï¼Œä»¥æ­¤æ¥å®ç°æ•°æ®åŒå‘ç»‘å®š ï¼Œè¿™å°±æ˜¯ vue å®ç°æ•°æ®å“åº”å¼çš„ å‘å¸ƒè®¢é˜…è€…æ¨¡å¼</p>
</blockquote>
<p>åˆå§‹åŒ– data æ•°æ®çš„æ—¶å€™ ä¼šæ ¡éªŒ props ä¸­å˜é‡åç§°å’Œ data ä¸­çš„ä¸èƒ½é‡å¤ï¼Œåœ¨è¿™é‡Œä¼šé€šè¿‡ observe åŠ«æŒ data çš„æ‰€æœ‰å±æ€§ï¼Œå¦‚æœç›‘å¬åˆ°æ•°æ®å˜åŒ–å°±é€šçŸ¥è®¢é˜…è€… watcher æ¥æ›´æ–°æ•°æ®ï¼Œä»¥æ­¤æ¥å®ç°æ•°æ®åŒå‘ç»‘å®š ï¼Œè¿™å°±æ˜¯ vue å®ç°æ•°æ®å“åº”å¼çš„ å‘å¸ƒè®¢é˜…è€…æ¨¡å¼</p>
<ul>
<li>å®šä¹‰ $setã€$get ã€$deleteã€$watch ç­‰æ–¹æ³•</li>
<li>å®šä¹‰ $onã€$offã€$emitã€$off ç­‰äº‹ä»¶</li>
<li>å®šä¹‰ _updateã€$forceUpdateã€$destroy ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<ol start="2">
<li><p>è°ƒç”¨$mount è¿›è¡Œé¡µé¢çš„æŒ‚è½½<br><br> åœ¨è°ƒç”¨vm.$mount æ–¹æ³•æ—¶ ä¼šå°† template è§£æä¸º æŠ½è±¡è¯­æ³•æ ‘ (ast tree) å†å°†æŠ½è±¡è¯­æ³•æ ‘ è½¬æ¢æˆ render è¯­æ³•å­—ç¬¦ä¸² æœ€ç»ˆç”Ÿæˆ render æ–¹æ³• æŒ‚è½½åˆ° vm ä¸Šåï¼Œä¼šå†æ¬¡è°ƒç”¨ mount æ–¹æ³•</p>
</li>
<li><p>æŒ‚è½½çš„æ—¶å€™ä¸»è¦æ˜¯é€šè¿‡ mountComponent æ–¹æ³•<br><br>æ­¤æ—¶ä¼šè§¦å‘ beforeMount é’©å­å‡½æ•° ï¼Œå®šä¹‰ updateComponent æ¥æ¸²æŸ“é¡µé¢è§†å›¾çš„æ–¹æ³•ï¼Œç›‘å¬ç»„ä»¶æ•°æ®ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘ beforeUpdate ç”Ÿå‘½é’©å­ æœ€åæ‰§è¡Œ callHook(vm, â€˜mountedâ€™) é’©å­å‡½æ•° å®ŒæˆæŒ‚è½½</p>
</li>
<li><p>å®šä¹‰ updateComponent æ›´æ–°å‡½æ•°<br><br>updateComponent æ–¹æ³•ä¸»è¦æ‰§è¡Œåœ¨ vue åˆå§‹åŒ–æ—¶å£°æ˜çš„ renderï¼Œupdate æ–¹æ³•</p>
</li>
<li><p>æ‰§è¡Œ render ç”Ÿæˆè™šæ‹Ÿ DOM</p>
</li>
<li><p>_update å°†è™šæ‹Ÿ DOM ç”ŸæˆçœŸå® DOM ç»“æ„ï¼Œå¹¶ä¸”æ¸²æŸ“åˆ°é¡µé¢ä¸­</p>
</li>
</ol>
<h2 id="5-è¯·æè¿°ä¸‹ä½ å¯¹-vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£"><a href="#5-è¯·æè¿°ä¸‹ä½ å¯¹-vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£" class="headerlink" title="5. è¯·æè¿°ä¸‹ä½ å¯¹ vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£"></a>5. è¯·æè¿°ä¸‹ä½ å¯¹ vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£</h2><blockquote>
<p>Vue ç”Ÿå‘½å‘¨æœŸæ€»å…±å¯ä»¥åˆ†ä¸º 8 ä¸ªé˜¶æ®µï¼šåˆ›å»ºå‰å, è½½å…¥å‰å,æ›´æ–°å‰å,é”€æ¯å‰é”€æ¯åï¼Œä»¥åŠä¸€äº›ç‰¹æ®Šåœºæ™¯çš„ç”Ÿå‘½å‘¨æœŸ(activated:keep-alive ç¼“å­˜çš„ç»„ä»¶æ¿€æ´»æ—¶<br>deactivated:keep-alive ç¼“å­˜çš„ç»„ä»¶åœç”¨æ—¶è°ƒç”¨)</p>
<img src="/2024/02/17/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/Vue%E7%B3%BB%E5%88%97/lifecycle.png" srcset="/img/loading.gif" lazyload class>
</blockquote>
<ol>
<li>beforeCreate -&gt; created<br>åˆå§‹åŒ– vue å®ä¾‹ï¼Œè¿›è¡Œæ•°æ®è§‚æµ‹</li>
<li>created<br>å®Œæˆæ•°æ®è§‚æµ‹ï¼Œå±æ€§ä¸æ–¹æ³•çš„è¿ç®—ï¼Œwatchã€event äº‹ä»¶å›è°ƒçš„é…ç½®<br>å¯è°ƒç”¨ methods ä¸­çš„æ–¹æ³•ï¼Œè®¿é—®å’Œä¿®æ”¹ data æ•°æ®è§¦å‘å“åº”å¼æ¸²æŸ“ domï¼Œå¯é€šè¿‡ computed å’Œ watch å®Œæˆæ•°æ®è®¡ç®—<br>æ­¤æ—¶ vm.$el å¹¶æ²¡æœ‰è¢«åˆ›å»º</li>
<li>created -&gt; beforeMount<br>åˆ¤æ–­æ˜¯å¦å­˜åœ¨ el é€‰é¡¹ï¼Œè‹¥ä¸å­˜åœ¨åˆ™åœæ­¢ç¼–è¯‘ï¼Œç›´åˆ°è°ƒç”¨ vm.$mount(el)æ‰ä¼šç»§ç»­ç¼–è¯‘<br>ä¼˜å…ˆçº§ï¼šrender &gt; template &gt; outerHTML<br>vm.el è·å–åˆ°çš„æ˜¯æŒ‚è½½ DOM çš„</li>
<li>beforeMount<br>åœ¨æ­¤é˜¶æ®µå¯è·å–åˆ° vm.el<br>æ­¤é˜¶æ®µ vm.el è™½å·²å®Œæˆ DOM åˆå§‹åŒ–ï¼Œä½†å¹¶æœªæŒ‚è½½åœ¨ el é€‰é¡¹ä¸Š</li>
<li>beforeMount -&gt; mounted<br>æ­¤é˜¶æ®µ vm.el å®ŒæˆæŒ‚è½½ï¼Œvm.$el ç”Ÿæˆçš„ DOM æ›¿æ¢äº† el é€‰é¡¹æ‰€å¯¹åº”çš„ DOM</li>
<li>mounted<br>vm.el å·²å®Œæˆ DOM çš„æŒ‚è½½ä¸æ¸²æŸ“ï¼Œæ­¤åˆ»æ‰“å° vm.$elï¼Œå‘ç°ä¹‹å‰çš„æŒ‚è½½ç‚¹åŠå†…å®¹å·²è¢«æ›¿æ¢æˆæ–°çš„ DOM</li>
<li>beforeUpdate<br>æ›´æ–°çš„æ•°æ®å¿…é¡»æ˜¯è¢«æ¸²æŸ“åœ¨æ¨¡æ¿ä¸Šçš„ï¼ˆelã€templateã€render ä¹‹ä¸€ï¼‰<br>æ­¤æ—¶ view å±‚è¿˜æœªæ›´æ–°<br>è‹¥åœ¨ beforeUpdate ä¸­å†æ¬¡ä¿®æ”¹æ•°æ®ï¼Œä¸ä¼šå†æ¬¡è§¦å‘æ›´æ–°æ–¹æ³•</li>
<li>updated<br>å®Œæˆ view å±‚çš„æ›´æ–°<br>è‹¥åœ¨ updated ä¸­å†æ¬¡ä¿®æ”¹æ•°æ®ï¼Œä¼šå†æ¬¡è§¦å‘æ›´æ–°æ–¹æ³•ï¼ˆbeforeUpdateã€updatedï¼‰</li>
<li>beforeDestroy<br>å®ä¾‹è¢«é”€æ¯å‰è°ƒç”¨ï¼Œæ­¤æ—¶å®ä¾‹å±æ€§ä¸æ–¹æ³•ä»å¯è®¿é—®</li>
<li>destroyed<br>å®Œå…¨é”€æ¯ä¸€ä¸ªå®ä¾‹ã€‚å¯æ¸…ç†å®ƒä¸å…¶å®ƒå®ä¾‹çš„è¿æ¥ï¼Œè§£ç»‘å®ƒçš„å…¨éƒ¨æŒ‡ä»¤åŠäº‹ä»¶ç›‘å¬å™¨<br>å¹¶ä¸èƒ½æ¸…é™¤ DOMï¼Œä»…ä»…é”€æ¯å®ä¾‹</li>
</ol>
<table>
<thead>
<tr>
<th align="center">ç”Ÿå‘½å‘¨æœŸ</th>
<th align="center">æè¿°</th>
<th align="right"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">beforeCreate</td>
<td align="center">æ‰§è¡Œæ—¶ç»„ä»¶å®ä¾‹è¿˜æœªåˆ›å»ºï¼Œé€šå¸¸ç”¨äºæ’ä»¶å¼€å‘ä¸­æ‰§è¡Œä¸€äº›åˆå§‹åŒ–ä»»åŠ¡</td>
<td align="right"></td>
</tr>
<tr>
<td align="center">created</td>
<td align="center">ç»„ä»¶åˆå§‹åŒ–å®Œæ¯•ï¼Œå„ç§æ•°æ®å¯ä»¥ä½¿ç”¨ï¼Œå¸¸ç”¨äºå¼‚æ­¥æ•°æ®è·å–</td>
<td align="right"></td>
</tr>
<tr>
<td align="center">beforeMount</td>
<td align="center">æœªæ‰§è¡Œæ¸²æŸ“ã€æ›´æ–°ï¼Œdom æœªåˆ›å»º</td>
<td align="right"></td>
</tr>
<tr>
<td align="center">mounted</td>
<td align="center">åˆå§‹åŒ–ç»“æŸï¼Œdom å·²åˆ›å»ºï¼Œå¯ç”¨äºè·å–è®¿é—®æ•°æ®å’Œ dom å…ƒç´ </td>
<td align="right"></td>
</tr>
<tr>
<td align="center">beforeUpdate</td>
<td align="center">æ›´æ–°å‰ï¼Œå¯ç”¨äºè·å–æ›´æ–°å‰å„ç§çŠ¶æ€</td>
<td align="right"></td>
</tr>
<tr>
<td align="center">updated</td>
<td align="center">æ›´æ–°åï¼Œæ‰€æœ‰çŠ¶æ€å·²æ˜¯æœ€æ–°</td>
<td align="right"></td>
</tr>
<tr>
<td align="center">beforeDestroy</td>
<td align="center">é”€æ¯å‰ï¼Œå¯ç”¨äºä¸€äº›å®šæ—¶å™¨æˆ–è®¢é˜…çš„å–æ¶ˆ</td>
<td align="right"></td>
</tr>
<tr>
<td align="center">destroyed</td>
<td align="center">ç»„ä»¶å·²é”€æ¯ï¼Œä½œç”¨åŒä¸Š</td>
<td align="right"></td>
</tr>
</tbody></table>
<h3 id="é¢˜å¤–è¯ï¼šæ•°æ®è¯·æ±‚åœ¨-created-å’Œ-mouted-çš„åŒºåˆ«"><a href="#é¢˜å¤–è¯ï¼šæ•°æ®è¯·æ±‚åœ¨-created-å’Œ-mouted-çš„åŒºåˆ«" class="headerlink" title="é¢˜å¤–è¯ï¼šæ•°æ®è¯·æ±‚åœ¨ created å’Œ mouted çš„åŒºåˆ«"></a>é¢˜å¤–è¯ï¼šæ•°æ®è¯·æ±‚åœ¨ created å’Œ mouted çš„åŒºåˆ«</h3><p>created æ˜¯åœ¨ç»„ä»¶å®ä¾‹ä¸€æ—¦åˆ›å»ºå®Œæˆçš„æ—¶å€™ç«‹åˆ»è°ƒç”¨ï¼Œè¿™æ—¶å€™é¡µé¢ dom èŠ‚ç‚¹å¹¶æœªç”Ÿæˆï¼›<br><br>mounted æ˜¯åœ¨é¡µé¢ dom èŠ‚ç‚¹æ¸²æŸ“å®Œæ¯•ä¹‹åå°±ç«‹åˆ»æ‰§è¡Œçš„ã€‚<br><br>ä¸¤è€…çš„ç›¸åŒç‚¹ï¼šéƒ½èƒ½æ‹¿åˆ°å®ä¾‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚ è®¨è®ºè¿™ä¸ªé—®é¢˜æœ¬è´¨å°±æ˜¯è§¦å‘çš„æ—¶æœºï¼Œæ”¾åœ¨ mounted ä¸­çš„è¯·æ±‚æœ‰å¯èƒ½å¯¼è‡´é¡µé¢é—ªåŠ¨ï¼ˆå› ä¸ºæ­¤æ—¶é¡µé¢ dom ç»“æ„å·²ç»ç”Ÿæˆï¼‰ï¼Œä½†å¦‚æœåœ¨é¡µé¢åŠ è½½å‰å®Œæˆè¯·æ±‚ï¼Œåˆ™ä¸ä¼šå‡ºç°æ­¤æƒ…å†µã€‚å»ºè®®å¯¹é¡µé¢å†…å®¹çš„æ”¹åŠ¨æ”¾åœ¨ created ç”Ÿå‘½å‘¨æœŸå½“ä¸­ã€‚</p>
<h2 id="6-v-if-å’Œ-v-for"><a href="#6-v-if-å’Œ-v-for" class="headerlink" title="6. v-if å’Œ v-for"></a>6. v-if å’Œ v-for</h2><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>v-if:æŒ‡ä»¤ç”¨äºæ¡ä»¶æ€§åœ°æ¸²æŸ“ä¸€å—å†…å®¹ã€‚è¿™å—å†…å®¹åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å› true å€¼çš„æ—¶å€™è¢«æ¸²æŸ“<br>v-for:æŒ‡ä»¤åŸºäºä¸€ä¸ªæ•°ç»„æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ã€‚v-for æŒ‡ä»¤éœ€è¦ä½¿ç”¨ item in items å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ items æ˜¯æºæ•°æ®æ•°ç»„ï¼Œè€Œ item åˆ™æ˜¯æ•°ç»„å…ƒç´ è¿­ä»£çš„åˆ«åã€‚</p>
<h3 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h3><p>v-for çš„ä¼˜å…ˆçº§é«˜äº v-ifï¼Œè¿™æ„å‘³ç€ v-if å°†åˆ†åˆ«é‡å¤è¿è¡Œäºæ¯ä¸ª v-for å¾ªç¯ä¸­ã€‚å¦‚æœæƒ³ä¸ºæ¯ä¸ªé¡¹ç›®æ¸²æŸ“çš„å…ƒç´ æ·»åŠ ä¸€ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆå°†å®ƒåŒ…è£…åœ¨ä¸€ä¸ª template å…ƒç´ ä¸­<br><strong>vue æºç ä¸­çš„å¤„ç†é€»è¾‘æ˜¯ï¼šåœ¨ç¼–è¯‘é˜¶æ®µï¼Œå…ˆå¤„ç† v-forï¼Œå†å¤„ç† v-ifï¼Œæ‰€ä»¥ v-for çš„ä¼˜å…ˆçº§é«˜äº v-if</strong></p>
<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ol>
<li>æ°¸è¿œä¸è¦æŠŠ v-if å’Œ v-for åŒæ—¶ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå¸¦æ¥æ€§èƒ½æ–¹é¢çš„æµªè´¹ï¼ˆæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šå…ˆå¾ªç¯å†è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼‰</li>
<li>å¦‚æœé¿å…å‡ºç°è¿™ç§æƒ…å†µï¼Œåˆ™åœ¨å¤–å±‚åµŒå¥— templateï¼ˆé¡µé¢æ¸²æŸ“ä¸ç”Ÿæˆ dom èŠ‚ç‚¹ï¼‰ï¼Œåœ¨è¿™ä¸€å±‚è¿›è¡Œ v-if åˆ¤æ–­ï¼Œç„¶ååœ¨å†…éƒ¨è¿›è¡Œ v-for å¾ªç¯</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;isShow&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ol start="3">
<li>å¦‚æœæ¡ä»¶å‡ºç°åœ¨å¾ªç¯å†…éƒ¨ï¼Œå¯é€šè¿‡è®¡ç®—å±æ€§ computed æå‰è¿‡æ»¤æ‰é‚£äº›ä¸éœ€è¦æ˜¾ç¤ºçš„é¡¹</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">computed</span>: &#123;<br>  <span class="hljs-attr">items</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) &#123;<br>      <span class="hljs-keyword">return</span> item.<span class="hljs-property">isShow</span><br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="7-SPA-é¦–å±åŠ è½½é€Ÿåº¦æ…¢çš„æ€ä¹ˆè§£å†³ï¼Ÿ"><a href="#7-SPA-é¦–å±åŠ è½½é€Ÿåº¦æ…¢çš„æ€ä¹ˆè§£å†³ï¼Ÿ" class="headerlink" title="7. SPA é¦–å±åŠ è½½é€Ÿåº¦æ…¢çš„æ€ä¹ˆè§£å†³ï¼Ÿ"></a>7. SPA é¦–å±åŠ è½½é€Ÿåº¦æ…¢çš„æ€ä¹ˆè§£å†³ï¼Ÿ</h2><blockquote>
<p>é¦–å±æ—¶é—´ï¼ˆFirst Contentful Paintï¼‰ï¼ŒæŒ‡çš„æ˜¯æµè§ˆå™¨ä»å“åº”ç”¨æˆ·è¾“å…¥ç½‘å€åœ°å€ï¼Œåˆ°é¦–å±å†…å®¹æ¸²æŸ“å®Œæˆçš„æ—¶é—´ï¼Œæ­¤æ—¶æ•´ä¸ªç½‘é¡µä¸ä¸€å®šè¦å…¨éƒ¨æ¸²æŸ“å®Œæˆï¼Œä½†éœ€è¦å±•ç¤ºå½“å‰è§†çª—éœ€è¦çš„å†…å®¹</p>
</blockquote>
<h3 id="1-å…³äºè®¡ç®—é¦–å±æ—¶é—´"><a href="#1-å…³äºè®¡ç®—é¦–å±æ—¶é—´" class="headerlink" title="1. å…³äºè®¡ç®—é¦–å±æ—¶é—´"></a>1. å…³äºè®¡ç®—é¦–å±æ—¶é—´</h3><blockquote>
<p>é€šè¿‡ DOMContentLoad æˆ–è€… performance æ¥è®¡ç®—å‡ºé¦–å±æ—¶é—´</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ–¹æ¡ˆä¸€ï¼š</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;first contentful painting&#x27;</span>);<br>&#125;);<br><span class="hljs-comment">// æ–¹æ¡ˆäºŒï¼š</span><br>performance.<span class="hljs-title function_">getEntriesByName</span>(<span class="hljs-string">&quot;first-contentful-paint&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">startTime</span><br><br><span class="hljs-comment">// performance.getEntriesByName(&quot;first-contentful-paint&quot;)[0]</span><br><span class="hljs-comment">// ä¼šè¿”å›ä¸€ä¸ª PerformancePaintTimingçš„å®ä¾‹ï¼Œç»“æ„å¦‚ä¸‹ï¼š</span><br>&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;first-contentful-paint&quot;</span>,<br>  <span class="hljs-attr">entryType</span>: <span class="hljs-string">&quot;paint&quot;</span>,<br>  <span class="hljs-attr">startTime</span>: <span class="hljs-number">507.80000002123415</span>,<br>  <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span>,<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="2-åŠ è½½æ…¢çš„åŸå› "><a href="#2-åŠ è½½æ…¢çš„åŸå› " class="headerlink" title="2. åŠ è½½æ…¢çš„åŸå› "></a>2. åŠ è½½æ…¢çš„åŸå› </h3><ol>
<li><code>ç½‘ç»œ</code>å»¶æ—¶é—®é¢˜</li>
<li><code>èµ„æºæ–‡ä»¶ä½“ç§¯</code>æ˜¯å¦è¿‡å¤§</li>
<li>èµ„æºæ˜¯å¦<code>é‡å¤å‘é€è¯·æ±‚</code>å»åŠ è½½äº†</li>
<li>åŠ è½½è„šæœ¬çš„æ—¶å€™ï¼Œæ¸²æŸ“å†…å®¹å µå¡äº†</li>
</ol>
<h3 id="3-å¸¸è§çš„å‡ ç§-SPA-é¦–å±ä¼˜åŒ–æ–¹å¼"><a href="#3-å¸¸è§çš„å‡ ç§-SPA-é¦–å±ä¼˜åŒ–æ–¹å¼" class="headerlink" title="3. å¸¸è§çš„å‡ ç§ SPA é¦–å±ä¼˜åŒ–æ–¹å¼"></a>3. å¸¸è§çš„å‡ ç§ SPA é¦–å±ä¼˜åŒ–æ–¹å¼</h3><ol>
<li>å‡å°å…¥å£æ–‡ä»¶ç§¯(è·¯ç”±æ‡’åŠ è½½)(åœ¨ vue-router é…ç½®è·¯ç”±çš„æ—¶å€™ï¼Œé‡‡ç”¨åŠ¨æ€åŠ è½½è·¯ç”±çš„å½¢å¼)</li>
<li>é™æ€èµ„æºæœ¬åœ°ç¼“å­˜(å‰ç«¯åˆç†åˆ©ç”¨ localStorage)</li>
<li>UI æ¡†æ¶æŒ‰éœ€åŠ è½½(åœ¨æ—¥å¸¸ä½¿ç”¨ UI æ¡†æ¶ï¼Œä¾‹å¦‚ element-UIã€æˆ–è€… antdï¼ŒæŒ‰éœ€å¼•ç”¨)</li>
<li>å›¾ç‰‡èµ„æºçš„å‹ç¼©(é›ªç¢§å›¾ã€ç²¾çµå›¾ã€å›¾ç‰‡æ‡’åŠ è½½)</li>
<li>ç»„ä»¶é‡å¤æ‰“åŒ…</li>
<li>å¼€å¯ GZip å‹ç¼©</li>
<li>ä½¿ç”¨ SSR æœåŠ¡ç«¯æ¸²æŸ“</li>
</ol>
<h2 id="8-ä¸ºä»€ä¹ˆ-data-å±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ"><a href="#8-ä¸ºä»€ä¹ˆ-data-å±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ" class="headerlink" title="8. ä¸ºä»€ä¹ˆ data å±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ"></a>8. ä¸ºä»€ä¹ˆ data å±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ</h2><h3 id="1-å®ä¾‹å’Œç»„ä»¶å®šä¹‰-data-çš„åŒºåˆ«"><a href="#1-å®ä¾‹å’Œç»„ä»¶å®šä¹‰-data-çš„åŒºåˆ«" class="headerlink" title="1. å®ä¾‹å’Œç»„ä»¶å®šä¹‰ data çš„åŒºåˆ«"></a>1. å®ä¾‹å’Œç»„ä»¶å®šä¹‰ data çš„åŒºåˆ«</h3><blockquote>
<p>vue å®ä¾‹çš„æ—¶å€™å®šä¹‰ data å±æ€§æ—¢å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,<br>  <span class="hljs-comment">// å¯¹è±¡æ ¼å¼</span><br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;foo&#x27;</span>,<br>  &#125;,<br>  <span class="hljs-comment">// å‡½æ•°æ ¼å¼</span><br>  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;foo&#x27;</span>,<br>    &#125;<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure>

<blockquote>
<p>ç»„ä»¶ä¸­å®šä¹‰ data å±æ€§ï¼Œåªèƒ½æ˜¯ä¸€ä¸ªå‡½æ•°</p>
</blockquote>
<h3 id="2-ç»„ä»¶-data-å®šä¹‰å‡½æ•°ä¸å¯¹è±¡çš„åŒºåˆ«"><a href="#2-ç»„ä»¶-data-å®šä¹‰å‡½æ•°ä¸å¯¹è±¡çš„åŒºåˆ«" class="headerlink" title="2. ç»„ä»¶ data å®šä¹‰å‡½æ•°ä¸å¯¹è±¡çš„åŒºåˆ«"></a>2. ç»„ä»¶ data å®šä¹‰å‡½æ•°ä¸å¯¹è±¡çš„åŒºåˆ«</h3><blockquote>
<p>åœ¨æˆ‘ä»¬å®šä¹‰å¥½ä¸€ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œvue æœ€ç»ˆéƒ½ä¼šé€šè¿‡ Vue.extend()æ„æˆç»„ä»¶å®ä¾‹</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Component</span>(<span class="hljs-params"></span>) &#123;&#125;<br><span class="hljs-title class_">Component</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">data</span> = &#123;<br>  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,<br>&#125;<br><span class="hljs-comment">//åˆ›å»ºä¸¤ä¸ªç»„ä»¶å®ä¾‹</span><br><span class="hljs-keyword">const</span> componentA = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Component</span>()<br><span class="hljs-keyword">const</span> componentB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Component</span>()<br><span class="hljs-comment">//ä¿®æ”¹componentAç»„ä»¶dataå±æ€§çš„å€¼ï¼ŒcomponentBä¸­çš„å€¼ä¹Ÿå‘ç”Ÿäº†æ”¹å˜</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(componentB.<span class="hljs-property">data</span>.<span class="hljs-property">count</span>) <span class="hljs-comment">// 0</span><br>componentA.<span class="hljs-property">data</span>.<span class="hljs-property">count</span> = <span class="hljs-number">1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(componentB.<span class="hljs-property">data</span>.<span class="hljs-property">count</span>) <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure>

<ol>
<li>å®šä¹‰å¯¹è±¡ï¼šäº§ç”Ÿè¿™æ ·çš„åŸå› è¿™æ˜¯ä¸¤è€…å…±ç”¨äº†åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼ŒcomponentA ä¿®æ”¹çš„å†…å®¹ï¼ŒåŒæ ·å¯¹ componentB äº§ç”Ÿäº†å½±å“</li>
<li>é‡‡ç”¨å‡½æ•°çš„å½¢å¼ï¼Œåˆ™ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼ˆå‡½æ•°è¿”å›çš„å¯¹è±¡å†…å­˜åœ°å€å¹¶ä¸ç›¸åŒï¼‰<br>vue ç»„ä»¶å¯èƒ½ä¼šæœ‰å¾ˆå¤šä¸ªå®ä¾‹ï¼Œé‡‡ç”¨å‡½æ•°è¿”å›ä¸€ä¸ªå…¨æ–° data å½¢å¼ï¼Œä½¿æ¯ä¸ªå®ä¾‹å¯¹è±¡çš„æ•°æ®ä¸ä¼šå—åˆ°å…¶ä»–å®ä¾‹å¯¹è±¡æ•°æ®çš„æ±¡æŸ“</li>
</ol>
<h3 id="3-åŸç†"><a href="#3-åŸç†" class="headerlink" title="3. åŸç†"></a>3. åŸç†</h3><ol>
<li>é¦–å…ˆå¯ä»¥çœ‹çœ‹ vue åˆå§‹åŒ– data çš„ä»£ç ï¼Œdata çš„å®šä¹‰å¯ä»¥æ˜¯å‡½æ•°ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡</li>
</ol>
<blockquote>
<p>æºç ä½ç½®ï¼š&#x2F;vue-dev&#x2F;src&#x2F;core&#x2F;instance&#x2F;state.js</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">initData</span> (<span class="hljs-attr">vm</span>: <span class="hljs-title class_">Component</span>) &#123;<br>  <span class="hljs-keyword">let</span> data = vm.<span class="hljs-property">$options</span>.<span class="hljs-property">data</span><br>  data = vm.<span class="hljs-property">_data</span> = <span class="hljs-keyword">typeof</span> data === <span class="hljs-string">&#x27;function&#x27;</span><br>    ? <span class="hljs-title function_">getData</span>(data, vm)<br>    : data || &#123;&#125;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>ç»„ä»¶åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œä¼šè¿›è¡Œé€‰é¡¹çš„åˆå¹¶</li>
</ol>
<blockquote>
<p>æºç ä½ç½®ï¼š&#x2F;vue-dev&#x2F;src&#x2F;core&#x2F;util&#x2F;options.js</p>
</blockquote>
<p>è‡ªå®šä¹‰ç»„ä»¶ä¼šè¿›å…¥ mergeOptions è¿›è¡Œé€‰é¡¹åˆå¹¶</p>
<ol start="3">
<li>å®šä¹‰ data ä¼šè¿›è¡Œæ•°æ®æ ¡éªŒ</li>
</ol>
<blockquote>
<p>æºç ä½ç½®ï¼š&#x2F;vue-dev&#x2F;src&#x2F;core&#x2F;instance&#x2F;init.js</p>
</blockquote>
<p>è¿™æ—¶å€™ vm å®ä¾‹ä¸º undefinedï¼Œè¿›å…¥ if åˆ¤æ–­ï¼Œè‹¥ data ç±»å‹ä¸æ˜¯ functionï¼Œåˆ™å‡ºç°è­¦å‘Šæç¤º</p>
<h2 id="9-åŠ¨æ€ç»™-vue-çš„-data-æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ€æ ·è§£å†³ï¼Ÿ"><a href="#9-åŠ¨æ€ç»™-vue-çš„-data-æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ€æ ·è§£å†³ï¼Ÿ" class="headerlink" title="9.åŠ¨æ€ç»™ vue çš„ data æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ€æ ·è§£å†³ï¼Ÿ"></a>9.åŠ¨æ€ç»™ vue çš„ data æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ€æ ·è§£å†³ï¼Ÿ</h2><h3 id="ç›´æ¥æ·»åŠ å±æ€§çš„é—®é¢˜"><a href="#ç›´æ¥æ·»åŠ å±æ€§çš„é—®é¢˜" class="headerlink" title="ç›´æ¥æ·»åŠ å±æ€§çš„é—®é¢˜"></a>ç›´æ¥æ·»åŠ å±æ€§çš„é—®é¢˜</h3><p>å®šä¹‰ä¸€ä¸ª p æ ‡ç­¾ï¼Œé€šè¿‡ v-for æŒ‡ä»¤è¿›è¡Œéå†<br>ç„¶åç»™ botton æ ‡ç­¾ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬é¢„æœŸç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæ•°æ®æ–°å¢ä¸€ä¸ªå±æ€§ï¼Œç•Œé¢ä¹Ÿ æ–°å¢ä¸€è¡Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;p v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;(value,key) in item&quot;</span> :key=<span class="hljs-string">&quot;key&quot;</span>&gt;<br>    &#123;&#123; value &#125;&#125;<br>&lt;/p&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addProperty&quot;</span>&gt;</span>åŠ¨æ€æ·»åŠ æ–°å±æ€§<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="hljs-comment">//å®ä¾‹åŒ–ä¸€ä¸ªvueå®ä¾‹ï¼Œå®šä¹‰dataå±æ€§å’Œmethodsæ–¹æ³•</span><br><br><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,<br>   	<span class="hljs-attr">data</span>:<span class="hljs-function">()=&gt;</span>&#123;<br>       	<span class="hljs-attr">item</span>:&#123;<br>            <span class="hljs-attr">oldProperty</span>:<span class="hljs-string">&quot;æ—§å±æ€§&quot;</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">methods</span>:&#123;<br>        <span class="hljs-title function_">addProperty</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-property">newProperty</span> = <span class="hljs-string">&quot;æ–°å±æ€§&quot;</span>  <span class="hljs-comment">// ä¸ºitemsæ·»åŠ æ–°å±æ€§</span><br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>)  <span class="hljs-comment">// è¾“å‡ºå¸¦æœ‰newPropertyçš„items</span><br>        &#125;<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>ç‚¹å‡»æŒ‰é’®ï¼Œå‘ç°ç»“æœä¸åŠé¢„æœŸï¼Œæ•°æ®è™½ç„¶æ›´æ–°äº†ï¼ˆconsole æ‰“å°å‡ºäº†æ–°å±æ€§ï¼‰ï¼Œä½†é¡µé¢å¹¶æ²¡æœ‰æ›´æ–°</p>
<h3 id="2-åŸç†åˆ†æ"><a href="#2-åŸç†åˆ†æ" class="headerlink" title="2. åŸç†åˆ†æ"></a>2. åŸç†åˆ†æ</h3><p>æˆ‘ä»¬ä¸º obj æ·»åŠ æ–°å±æ€§çš„æ—¶å€™ï¼Œå´æ— æ³•è§¦å‘äº‹ä»¶å±æ€§çš„æ‹¦æˆª</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">obj.bar</span>  = <span class="hljs-string">&#x27;æ–°å±æ€§&#x27;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>åŸå› æ˜¯ä¸€å¼€å§‹ obj çš„ foo å±æ€§è¢«è®¾æˆäº†å“åº”å¼æ•°æ®ï¼Œè€Œ bar æ˜¯åé¢æ–°å¢çš„å±æ€§ï¼Œå¹¶æ²¡æœ‰é€šè¿‡ Object.defineProperty è®¾ç½®æˆå“åº”å¼æ•°æ®</p>
</blockquote>
<h3 id="3-è§£å†³æ–¹æ¡ˆ"><a href="#3-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="3. è§£å†³æ–¹æ¡ˆ"></a>3. è§£å†³æ–¹æ¡ˆ</h3><ol>
<li>Vue.set()<br><code>Vue.set( target, propertyName/index, value )</code></li>
<li>Object.assign()</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œåˆå¹¶åŸå¯¹è±¡å’Œæ··å…¥å¯¹è±¡çš„å±æ€§</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;,<span class="hljs-variable language_">this</span>.<span class="hljs-property">someObject</span>,&#123;<span class="hljs-attr">newProperty1</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">newProperty2</span>:<span class="hljs-number">2</span> ...&#125;)<br></code></pre></td></tr></table></figure>

<ol start="3">
<li>$forcecUpdated() <code>$forceUpdate è¿«ä½¿ Vue å®ä¾‹é‡æ–°æ¸²æŸ“</code></li>
</ol>
<h2 id="10-Vue-ä¸­ç»„ä»¶å’Œæ’ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#10-Vue-ä¸­ç»„ä»¶å’Œæ’ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="10. Vue ä¸­ç»„ä»¶å’Œæ’ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>10. Vue ä¸­ç»„ä»¶å’Œæ’ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><h3 id="ç»„ä»¶æ˜¯ä»€ä¹ˆ"><a href="#ç»„ä»¶æ˜¯ä»€ä¹ˆ" class="headerlink" title="ç»„ä»¶æ˜¯ä»€ä¹ˆ"></a>ç»„ä»¶æ˜¯ä»€ä¹ˆ</h3><p>ç»„ä»¶å°±æ˜¯æŠŠå›¾å½¢ã€éå›¾å½¢çš„å„ç§é€»è¾‘å‡æŠ½è±¡ä¸ºä¸€ä¸ªç»Ÿä¸€çš„æ¦‚å¿µï¼ˆç»„ä»¶ï¼‰æ¥å®ç°å¼€å‘çš„æ¨¡å¼ï¼Œåœ¨ Vue ä¸­æ¯ä¸€ä¸ª.vue æ–‡ä»¶éƒ½å¯ä»¥è§†ä¸ºä¸€ä¸ªç»„ä»¶</p>
<blockquote>
<p>ç»„ä»¶çš„ä¼˜åŠ¿:</p>
</blockquote>
<ol>
<li>é™ä½æ•´ä¸ªç³»ç»Ÿçš„è€¦åˆåº¦ï¼Œåœ¨ä¿æŒæ¥å£ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ›¿æ¢ä¸åŒçš„ç»„ä»¶å¿«é€Ÿå®Œæˆéœ€æ±‚ï¼Œä¾‹å¦‚è¾“å…¥æ¡†ï¼Œå¯ä»¥æ›¿æ¢ä¸ºæ—¥å†ã€æ—¶é—´ã€èŒƒå›´ç­‰ç»„ä»¶ä½œå…·ä½“çš„å®ç°</li>
<li>è°ƒè¯•æ–¹ä¾¿ï¼Œç”±äºæ•´ä¸ªç³»ç»Ÿæ˜¯é€šè¿‡ç»„ä»¶ç»„åˆèµ·æ¥çš„ï¼Œåœ¨å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨æ’é™¤æ³•ç›´æ¥ç§»é™¤ç»„ä»¶ï¼Œæˆ–è€…æ ¹æ®æŠ¥é”™çš„ç»„ä»¶å¿«é€Ÿå®šä½é—®é¢˜ï¼Œä¹‹æ‰€ä»¥èƒ½å¤Ÿå¿«é€Ÿå®šä½ï¼Œæ˜¯å› ä¸ºæ¯ä¸ªç»„ä»¶ä¹‹é—´ä½è€¦åˆï¼ŒèŒè´£å•ä¸€ï¼Œæ‰€ä»¥é€»è¾‘ä¼šæ¯”åˆ†ææ•´ä¸ªç³»ç»Ÿè¦ç®€å•</li>
<li>æé«˜å¯ç»´æŠ¤æ€§ï¼Œç”±äºæ¯ä¸ªç»„ä»¶çš„èŒè´£å•ä¸€ï¼Œå¹¶ä¸”ç»„ä»¶åœ¨ç³»ç»Ÿä¸­æ˜¯è¢«å¤ç”¨çš„ï¼Œæ‰€ä»¥å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–å¯è·å¾—ç³»ç»Ÿçš„æ•´ä½“å‡çº§</li>
</ol>
<h3 id="æ’ä»¶æ˜¯ä»€ä¹ˆ"><a href="#æ’ä»¶æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ’ä»¶æ˜¯ä»€ä¹ˆ"></a>æ’ä»¶æ˜¯ä»€ä¹ˆ</h3><blockquote>
<p>æ’ä»¶é€šå¸¸ç”¨æ¥ä¸º Vue æ·»åŠ å…¨å±€åŠŸèƒ½ã€‚æ’ä»¶çš„åŠŸèƒ½èŒƒå›´æ²¡æœ‰ä¸¥æ ¼çš„é™åˆ¶â€”â€”ä¸€èˆ¬æœ‰ä¸‹é¢å‡ ç§ï¼š</p>
</blockquote>
<ol>
<li>æ·»åŠ å…¨å±€<code>æ–¹æ³•</code>æˆ–è€…<code>å±æ€§</code>ã€‚å¦‚: vue-custom-element</li>
<li><code>æ·»åŠ å…¨å±€èµ„æº</code>ï¼šæŒ‡ä»¤&#x2F;è¿‡æ»¤å™¨&#x2F;è¿‡æ¸¡ç­‰ã€‚å¦‚ vue-touch</li>
<li>é€šè¿‡å…¨å±€æ··å…¥æ¥<code>æ·»åŠ ç»„ä»¶é€‰é¡¹</code>ã€‚å¦‚ vue-router</li>
<li><code>æ·»åŠ  Vue å®ä¾‹æ–¹æ³•</code>ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç°ã€‚</li>
<li><code>ä¸€ä¸ªåº“</code>ï¼Œæä¾›è‡ªå·±çš„ APIï¼ŒåŒæ—¶æä¾›ä¸Šé¢æåˆ°çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½ã€‚å¦‚ vue-router</li>
</ol>
<h3 id="ä¸¤è€…çš„åŒºåˆ«"><a href="#ä¸¤è€…çš„åŒºåˆ«" class="headerlink" title="ä¸¤è€…çš„åŒºåˆ«"></a>ä¸¤è€…çš„åŒºåˆ«</h3><h4 id="1-ç¼–å†™å½¢å¼"><a href="#1-ç¼–å†™å½¢å¼" class="headerlink" title="1. ç¼–å†™å½¢å¼"></a>1. ç¼–å†™å½¢å¼</h4><blockquote>
<p>ç¼–å†™ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥æœ‰å¾ˆå¤šæ–¹å¼ï¼Œæˆ‘ä»¬æœ€å¸¸è§çš„å°±æ˜¯ vue å•æ–‡ä»¶çš„è¿™ç§æ ¼å¼ï¼Œæ¯ä¸€ä¸ª.vue æ–‡ä»¶æˆ‘ä»¬éƒ½å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç»„ä»¶</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- vueæ–‡ä»¶æ ‡å‡†æ ¼å¼ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;</span><br><span class="language-javascript">      ...</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>ç¼–å†™æ’ä»¶<br>vue æ’ä»¶çš„å®ç°åº”è¯¥æš´éœ²ä¸€ä¸ª install æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">MyPlugin</span>.<span class="hljs-property">install</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">Vue, options</span>) &#123;<br>  <span class="hljs-comment">// 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ– property</span><br>  <span class="hljs-title class_">Vue</span>.<span class="hljs-property">myGlobalMethod</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// é€»è¾‘...</span><br>  &#125;<br><br>  <span class="hljs-comment">// 2. æ·»åŠ å…¨å±€èµ„æº</span><br>  <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;my-directive&#x27;</span>, &#123;<br>    bind (el, binding, vnode, oldVnode) &#123;<br>      <span class="hljs-comment">// é€»è¾‘...</span><br>    &#125;<br>    ...<br>  &#125;)<br><br>  <span class="hljs-comment">// 3. æ³¨å…¥ç»„ä»¶é€‰é¡¹</span><br>  <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(&#123;<br>    <span class="hljs-attr">created</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-comment">// é€»è¾‘...</span><br>    &#125;<br>    ...<br>  &#125;)<br><br>  <span class="hljs-comment">// 4. æ·»åŠ å®ä¾‹æ–¹æ³•</span><br>  <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$myMethod</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">methodOptions</span>) &#123;<br>    <span class="hljs-comment">// é€»è¾‘...</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="2-æ³¨å†Œå½¢å¼"><a href="#2-æ³¨å†Œå½¢å¼" class="headerlink" title="2.æ³¨å†Œå½¢å¼"></a>2.æ³¨å†Œå½¢å¼</h4><blockquote>
<p>ç»„ä»¶æ³¨å†Œ vue ç»„ä»¶æ³¨å†Œä¸»è¦åˆ†ä¸ºå…¨å±€æ³¨å†Œä¸å±€éƒ¨æ³¨å†Œ</p>
</blockquote>
<ol>
<li>å…¨å±€æ³¨å†Œé€šè¿‡ Vue.component æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç»„ä»¶çš„åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ å…¥çš„é…ç½®é¡¹<br><code>Vue.component(&#39;my-component-name&#39;, &#123; /* ... */ &#125;)</code></li>
<li>å±€éƒ¨æ³¨å†Œåªéœ€åœ¨ç”¨åˆ°çš„åœ°æ–¹é€šè¿‡ components å±æ€§æ³¨å†Œä¸€ä¸ªç»„ä»¶</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> component1 = &#123;...&#125; <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªç»„ä»¶</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>	<span class="hljs-attr">components</span>:&#123;<br>		component1   <span class="hljs-comment">// å±€éƒ¨æ³¨å†Œ</span><br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>æ’ä»¶æ³¨å†Œ</p>
</blockquote>
<p>æ’ä»¶çš„æ³¨å†Œé€šè¿‡ Vue.use()çš„æ–¹å¼è¿›è¡Œæ³¨å†Œï¼ˆå®‰è£…ï¼‰ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ’ä»¶çš„åå­—ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰æ‹©çš„é…ç½®é¡¹<br><br><code>Vue.use(æ’ä»¶åå­—,&#123; /* ... */&#125; )</code></p>
<h4 id="3-ä½¿ç”¨åœºæ™¯"><a href="#3-ä½¿ç”¨åœºæ™¯" class="headerlink" title="3. ä½¿ç”¨åœºæ™¯"></a>3. ä½¿ç”¨åœºæ™¯</h4><p>ç»„ä»¶ (Component) æ˜¯ç”¨æ¥æ„æˆä½ çš„ App çš„ä¸šåŠ¡æ¨¡å—ï¼Œå®ƒçš„ç›®æ ‡æ˜¯ App.vue<br>æ’ä»¶ (Plugin) æ˜¯ç”¨æ¥å¢å¼ºä½ çš„æŠ€æœ¯æ ˆçš„åŠŸèƒ½æ¨¡å—ï¼Œå®ƒçš„ç›®æ ‡æ˜¯ Vue æœ¬èº«</p>
<h2 id="11-Vue-ç»„ä»¶é—´é€šä¿¡æœ‰å“ªäº›æ–¹å¼"><a href="#11-Vue-ç»„ä»¶é—´é€šä¿¡æœ‰å“ªäº›æ–¹å¼" class="headerlink" title="11.Vue ç»„ä»¶é—´é€šä¿¡æœ‰å“ªäº›æ–¹å¼"></a>11.Vue ç»„ä»¶é—´é€šä¿¡æœ‰å“ªäº›æ–¹å¼</h2><h3 id="çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡"><a href="#çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡"></a>çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡</h3><h4 id="props-ä¼ é€’æ•°æ®"><a href="#props-ä¼ é€’æ•°æ®" class="headerlink" title="props ä¼ é€’æ•°æ®"></a>props ä¼ é€’æ•°æ®</h4><blockquote>
<p>çˆ¶ç»„ä»¶é€šè¿‡ props å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶é€šè¿‡ props æ¥æ”¶æ•°æ®</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å­ç»„ä»¶vue2</span><br><span class="hljs-attr">props</span>:&#123;<br>    <span class="hljs-comment">// å­—ç¬¦ä¸²å½¢å¼</span><br>   <span class="hljs-attr">name</span>:<span class="hljs-title class_">String</span>, <span class="hljs-comment">// æ¥æ”¶çš„ç±»å‹å‚æ•°</span><br>   <span class="hljs-comment">// å¯¹è±¡å½¢å¼</span><br>   <span class="hljs-attr">age</span>:&#123;<br>      <span class="hljs-attr">type</span>:<span class="hljs-title class_">Number</span>, <span class="hljs-comment">// æ¥æ”¶çš„ç±»å‹ä¸ºæ•°å€¼</span><br>      <span class="hljs-attr">defaule</span>:<span class="hljs-number">18</span>,  <span class="hljs-comment">// é»˜è®¤å€¼ä¸º18</span><br>      <span class="hljs-attr">require</span>:<span class="hljs-literal">true</span> <span class="hljs-comment">// ageå±æ€§å¿…é¡»ä¼ é€’</span><br>   &#125;<br>&#125;<br><span class="hljs-comment">// å­ç»„ä»¶vue3</span><br><span class="hljs-keyword">import</span> &#123; defineProps, defineEmits &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><br><span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>(&#123;<br>  <span class="hljs-attr">count</span>: &#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,<br>    <span class="hljs-attr">default</span>: <span class="hljs-number">0</span><br>  &#125;<br>&#125;)<br><br><span class="hljs-comment">// çˆ¶ç»„ä»¶</span><br>&lt;child :name=<span class="hljs-string">&quot;name&quot;</span> :age=<span class="hljs-string">&quot;age&quot;</span>&gt;&lt;/child&gt;<br></code></pre></td></tr></table></figure>

<h4 id="emit-è§¦å‘è‡ªå®šä¹‰äº‹ä»¶"><a href="#emit-è§¦å‘è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="$emit è§¦å‘è‡ªå®šä¹‰äº‹ä»¶"></a>$emit è§¦å‘è‡ªå®šä¹‰äº‹ä»¶</h4><blockquote>
<p>å­ç»„ä»¶é€šè¿‡$emitè§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œ$emit ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ é€’çš„æ•°å€¼;çˆ¶ç»„ä»¶ç»‘å®šç›‘å¬å™¨è·å–åˆ°å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// Chilfen.vue vue2</span><br><span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&#x27;add&#x27;</span>, good)<br><span class="hljs-comment">//Chilfen.vue vue3</span><br><span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>()<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">childAdd</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;add&#x27;</span>, props.<span class="hljs-property">count</span> + <span class="hljs-number">1</span>)<br>&#125;<br><br><span class="hljs-comment">// Father.vue</span><br>&lt;<span class="hljs-title class_">Children</span> @add=<span class="hljs-string">&quot;cartAdd($event)&quot;</span> /&gt;<br></code></pre></td></tr></table></figure>

<h4 id="ref-è·å–å­ç»„ä»¶å®ä¾‹"><a href="#ref-è·å–å­ç»„ä»¶å®ä¾‹" class="headerlink" title="ref è·å–å­ç»„ä»¶å®ä¾‹"></a>ref è·å–å­ç»„ä»¶å®ä¾‹</h4><blockquote>
<p>çˆ¶ç»„ä»¶åœ¨ä½¿ç”¨å­ç»„ä»¶çš„æ—¶å€™è®¾ç½® ref;çˆ¶ç»„ä»¶é€šè¿‡è®¾ç½®å­ç»„ä»¶ ref æ¥è·å–æ•°æ®</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;childRef&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;callChildMethod&quot;</span>&gt;</span>Call Child Method<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;</span><br><span class="language-javascript">  <span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent.vue&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> childRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);</span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">callChildMethod</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">    childRef.<span class="hljs-property">value</span>.<span class="hljs-title function_">childMethod</span>();</span><br><span class="language-javascript">  &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">  &lt;!-- <span class="hljs-title class_">ChildComponent</span>.<span class="hljs-property">vue</span> --&gt;</span><br><span class="language-javascript">  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-javascript">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-javascript">      Child Component</span></span><br><span class="language-xml"><span class="language-javascript">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-javascript">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span></span><br><span class="language-javascript"></span><br><span class="language-javascript">  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="language-javascript">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">childMethod</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Method called from parent&#x27;</span>);</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="language-javascript">  &#125;;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="language-javascript"></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡"><a href="#å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡"></a>å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡</h3><h4 id="EventBus-ä¸­å¤®äº‹ä»¶æ€»çº¿"><a href="#EventBus-ä¸­å¤®äº‹ä»¶æ€»çº¿" class="headerlink" title="EventBus ä¸­å¤®äº‹ä»¶æ€»çº¿"></a>EventBus ä¸­å¤®äº‹ä»¶æ€»çº¿</h4><blockquote>
<p>åˆ›å»ºä¸€ä¸ªä¸­å¤®äº‹ä»¶æ€»çº¿ EventBus;å…„å¼Ÿç»„ä»¶é€šè¿‡$emitè§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œ$emit ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ é€’çš„æ•°å€¼;å¦ä¸€ä¸ªå…„å¼Ÿç»„ä»¶é€šè¿‡$on ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//main.js</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>() <span class="hljs-comment">// Vueå·²ç»å®ç°äº†Busçš„åŠŸèƒ½</span><br><br><span class="hljs-comment">//Children1.vue</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;sendMessage&quot;</span>&gt;</span>Send Message<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">sendMessage</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// è§¦å‘äº‹ä»¶</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-variable language_">this</span>.<span class="hljs-property">$bus</span>.$emit(<span class="hljs-string">&#x27;message&#x27;</span>, <span class="hljs-string">&#x27;Hello from EventBus!&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><br><span class="hljs-comment">// Children2.vue</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent.vue&#x27;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// ç›‘å¬äº‹ä»¶</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">this</span>.<span class="hljs-property">$bus</span>.$on(<span class="hljs-string">&#x27;message&#x27;</span>, <span class="hljs-function"><span class="hljs-params">message</span> =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message); <span class="hljs-comment">// Output: Hello from EventBus!</span></span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure>

<h4 id="parent-æˆ–-root"><a href="#parent-æˆ–-root" class="headerlink" title="$parent æˆ–$root"></a>$parent æˆ–$root</h4><blockquote>
<p>é€šè¿‡å…±åŒç¥–è¾ˆ$parentæˆ–è€…$root æ­å»ºé€šä¿¡æ¡¥è¿</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs vue">//<br>&lt;!-- ParentComponent.vue --&gt;<br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;child&gt;&lt;/child&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br>&lt;script&gt;<br>import child from &#x27;~/components/dam/child&#x27;<br>export default &#123;<br>  components: &#123;<br>    child,<br>  &#125;,<br>  methods: &#123;<br>    fatherMethod() &#123;<br>      console.log(&#x27;æµ‹è¯•&#x27;)<br>    &#125;,<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&#123;/*<br>&lt;!-- ChildComponent.vue --&gt;<br>*/&#125;<br>&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;button @click=&quot;childMethod()&quot;&gt;ç‚¹å‡»&lt;/button&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br>&lt;script&gt;<br>export default &#123;<br>  methods: &#123;<br>    childMethod() &#123;<br>      this.$parent.fatherMethod()<br>    &#125;,<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="ç¥–å­™ä¸åä»£ç»„ä»¶ä¹‹é—´çš„é€šä¿¡"><a href="#ç¥–å­™ä¸åä»£ç»„ä»¶ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="ç¥–å­™ä¸åä»£ç»„ä»¶ä¹‹é—´çš„é€šä¿¡"></a>ç¥–å­™ä¸åä»£ç»„ä»¶ä¹‹é—´çš„é€šä¿¡</h3><h4 id="attrs-ä¸-listeners"><a href="#attrs-ä¸-listeners" class="headerlink" title="$attrs ä¸$listeners"></a>$attrs ä¸$listeners</h4><p>è®¾ç½®æ‰¹é‡å‘ä¸‹ä¼ å±æ€§$attrså’Œ $listeners<br>åŒ…å«äº†çˆ¶çº§ä½œç”¨åŸŸä¸­ä¸ä½œä¸º prop è¢«è¯†åˆ« (ä¸”è·å–) çš„ç‰¹æ€§ç»‘å®š ( class å’Œ style é™¤å¤–)ã€‚<br>å¯ä»¥é€šè¿‡ v-bind&#x3D;â€$attrsâ€ ä¼ â¼Šå†…éƒ¨ç»„ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// childï¼šå¹¶æœªåœ¨propsä¸­å£°æ˜foo</span><br>&lt;p&gt;&#123;&#123;$attrs.<span class="hljs-property">foo</span>&#125;&#125;&lt;/p&gt;<br><br><span class="hljs-comment">// parent</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">HelloWorld</span> <span class="hljs-attr">foo</span>=<span class="hljs-string">&quot;foo&quot;</span>/&gt;</span></span><br><span class="hljs-comment">// ç»™Grandsonéš”ä»£ä¼ å€¼ï¼Œcommunication/index.vue</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child2</span> <span class="hljs-attr">msg</span>=<span class="hljs-string">&quot;lalala&quot;</span> @<span class="hljs-attr">some-event</span>=<span class="hljs-string">&quot;onSomeEvent&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Child2</span>&gt;</span></span><br><br><span class="hljs-comment">// Child2åšå±•å¼€</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grandson</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">&quot;$attrs&quot;</span> <span class="hljs-attr">v-on</span>=<span class="hljs-string">&quot;$listeners&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Grandson</span>&gt;</span></span><br><br><span class="hljs-comment">// Grandsonä½¿â½¤</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$emit(&#x27;some-event&#x27;, &#x27;msg from grandson&#x27;)&quot;</span>&gt;</span></span><br><span class="language-xml">&#123;&#123;msg&#125;&#125;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="provide-ä¸-inject"><a href="#provide-ä¸-inject" class="headerlink" title="provide ä¸ inject"></a>provide ä¸ inject</h4><blockquote>
<p>åœ¨ç¥–å…ˆç»„ä»¶å®šä¹‰ provide å±æ€§ï¼Œè¿”å›ä¼ é€’çš„å€¼;åœ¨åä»£ç»„ä»¶é€šè¿‡ inject æ¥æ”¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç¥–å…ˆç»„ä»¶</span><br><span class="hljs-title function_">provide</span>(<span class="hljs-params"></span>)&#123;<br>   <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">foo</span>:<span class="hljs-string">&#x27;foo&#x27;</span><br>   &#125;<br>&#125;<br><span class="hljs-comment">// åä»£ç»„ä»¶</span><br><span class="hljs-attr">inject</span>:[<span class="hljs-string">&#x27;foo&#x27;</span>] <span class="hljs-comment">// è·å–åˆ°ç¥–å…ˆç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼</span><br></code></pre></td></tr></table></figure>

<h3 id="éå…³ç³»ç»„ä»¶é—´ä¹‹é—´çš„é€šä¿¡"><a href="#éå…³ç³»ç»„ä»¶é—´ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="éå…³ç³»ç»„ä»¶é—´ä¹‹é—´çš„é€šä¿¡"></a>éå…³ç³»ç»„ä»¶é—´ä¹‹é—´çš„é€šä¿¡</h3><h4 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h4><ol>
<li>state ç”¨æ¥å­˜æ”¾å…±äº«å˜é‡çš„åœ°æ–¹</li>
<li>getterï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ª getter æ´¾ç”ŸçŠ¶æ€ï¼Œ(ç›¸å½“äº store ä¸­çš„è®¡ç®—å±æ€§ï¼‰ï¼Œç”¨æ¥è·å¾—å…±äº«å˜é‡çš„å€¼</li>
<li>mutations ç”¨æ¥å­˜æ”¾ä¿®æ”¹ state çš„æ–¹æ³•ã€‚</li>
<li>actions ä¹Ÿæ˜¯ç”¨æ¥å­˜æ”¾ä¿®æ”¹ state çš„æ–¹æ³•ï¼Œä¸è¿‡ action æ˜¯åœ¨ mutations çš„åŸºç¡€ä¸Šè¿›è¡Œã€‚å¸¸ç”¨æ¥åšä¸€äº›å¼‚æ­¥æ“ä½œ</li>
</ol>
<h2 id="12-vue-æ•°æ®çš„åŒå‘ç»‘å®šåŸç†"><a href="#12-vue-æ•°æ®çš„åŒå‘ç»‘å®šåŸç†" class="headerlink" title="12.vue æ•°æ®çš„åŒå‘ç»‘å®šåŸç†"></a>12.vue æ•°æ®çš„åŒå‘ç»‘å®šåŸç†</h2><blockquote>
<p>Vue æ•°æ®åŒå‘ç»‘å®šåŸç†æ˜¯é€šè¿‡ æ•°æ®åŠ«æŒ + å‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼ çš„æ–¹å¼æ¥å®ç°çš„ï¼Œé¦–å…ˆæ˜¯é€šè¿‡ ES5 æä¾›çš„ Object.defineProperty() æ–¹æ³•æ¥åŠ«æŒï¼ˆç›‘å¬ï¼‰å„å±æ€§çš„ getterã€setterï¼Œå¹¶åœ¨å½“ç›‘å¬çš„å±æ€§å‘ç”Ÿå˜åŠ¨æ—¶é€šçŸ¥è®¢é˜…è€…ï¼Œæ˜¯å¦éœ€è¦æ›´æ–°ï¼Œè‹¥æ›´æ–°å°±ä¼šæ‰§è¡Œå¯¹åº”çš„æ›´æ–°å‡½æ•°ã€‚</p>
</blockquote>
<h3 id="Vue-ä¸­çš„åŒå‘ç»‘å®šæµç¨‹æ˜¯ä»€ä¹ˆçš„"><a href="#Vue-ä¸­çš„åŒå‘ç»‘å®šæµç¨‹æ˜¯ä»€ä¹ˆçš„" class="headerlink" title="Vue ä¸­çš„åŒå‘ç»‘å®šæµç¨‹æ˜¯ä»€ä¹ˆçš„"></a>Vue ä¸­çš„åŒå‘ç»‘å®šæµç¨‹æ˜¯ä»€ä¹ˆçš„</h3><ol>
<li>new Vue()é¦–å…ˆæ‰§è¡Œåˆå§‹åŒ–ï¼Œå¯¹ data æ‰§è¡Œå“åº”åŒ–å¤„ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿ Observe ä¸­</li>
<li>åŒæ—¶å¯¹æ¨¡æ¿æ‰§è¡Œç¼–è¯‘ï¼Œæ‰¾åˆ°å…¶ä¸­åŠ¨æ€ç»‘å®šçš„æ•°æ®ï¼Œä» data ä¸­è·å–å¹¶åˆå§‹åŒ–è§†å›¾ï¼Œè¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿåœ¨ Compile ä¸­</li>
<li>åŒæ—¶å®šä¹‰â¼€ä¸ªæ›´æ–°å‡½æ•°å’Œ Watcherï¼Œå°†æ¥å¯¹åº”æ•°æ®å˜åŒ–æ—¶ Watcher ä¼šè°ƒç”¨æ›´æ–°å‡½æ•°</li>
<li>ç”±äº data çš„æŸä¸ª key åœ¨â¼€ä¸ªè§†å›¾ä¸­å¯èƒ½å‡ºç°å¤šæ¬¡ï¼Œæ‰€ä»¥æ¯ä¸ª key éƒ½éœ€è¦â¼€ä¸ªç®¡å®¶ Dep æ¥ç®¡ç†å¤šä¸ª Watcher</li>
<li>å°†æ¥ data ä¸­æ•°æ®â¼€æ—¦å‘ç”Ÿå˜åŒ–ï¼Œä¼šé¦–å…ˆæ‰¾åˆ°å¯¹åº”çš„ Depï¼Œé€šçŸ¥æ‰€æœ‰ Watcher æ‰§è¡Œæ›´æ–°å‡½æ•°</li>
</ol>


<h3 id="Vue-ä¸­çš„åŒå‘ç»‘å®šåŸç†"><a href="#Vue-ä¸­çš„åŒå‘ç»‘å®šåŸç†" class="headerlink" title="Vue ä¸­çš„åŒå‘ç»‘å®šåŸç†"></a>Vue ä¸­çš„åŒå‘ç»‘å®šåŸç†</h3><ol>
<li>å…ˆæ¥ä¸€ä¸ªæ„é€ å‡½æ•°ï¼šæ‰§è¡Œåˆå§‹åŒ–ï¼Œå¯¹ data æ‰§è¡Œå“åº”åŒ–å¤„ç†\å¯¹ data é€‰é¡¹æ‰§è¡Œå“åº”åŒ–å…·ä½“æ“ä½œ</li>
<li>ç¼–è¯‘ Compile<br>å¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤è¿›è¡Œæ‰«æè·Ÿè§£æ,æ ¹æ®æŒ‡ä»¤æ¨¡æ¿æ›¿æ¢æ•°æ®,ä»¥åŠç»‘å®šç›¸åº”çš„æ›´æ–°å‡½æ•°</li>
<li>ä¾èµ–æ”¶é›†<br>è§†å›¾ä¸­ä¼šç”¨åˆ° data ä¸­æŸ keyï¼Œè¿™ç§°ä¸ºä¾èµ–ã€‚åŒâ¼€ä¸ª key å¯èƒ½å‡ºç°å¤šæ¬¡ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ”¶é›†å‡ºæ¥ç”¨â¼€ä¸ª Watcher æ¥ç»´æŠ¤å®ƒä»¬ï¼Œæ­¤è¿‡ç¨‹ç§°ä¸ºä¾èµ–æ”¶é›†å¤šä¸ª Watcher éœ€è¦â¼€ä¸ª Dep æ¥ç®¡ç†ï¼Œéœ€è¦æ›´æ–°æ—¶ç”± Dep ç»Ÿâ¼€é€šçŸ¥<ol>
<li>å®ç°æ€è·¯</li>
</ol>
<ul>
<li>defineReactive æ—¶ä¸ºæ¯â¼€ä¸ª key åˆ›å»ºâ¼€ä¸ª Dep å®ä¾‹</li>
<li>åˆå§‹åŒ–è§†å›¾æ—¶è¯»å–æŸä¸ª keyï¼Œä¾‹å¦‚ name1ï¼Œåˆ›å»ºâ¼€ä¸ª watcher1</li>
<li>ç”±äºè§¦å‘ name1 çš„ getter æ–¹æ³•ï¼Œä¾¿å°† watcher1 æ·»åŠ åˆ° name1 å¯¹åº”çš„ Dep ä¸­</li>
<li>å½“ name1 æ›´æ–°ï¼Œsetter è§¦å‘æ—¶ï¼Œä¾¿å¯é€šè¿‡å¯¹åº” Dep é€šçŸ¥å…¶ç®¡ç†æ‰€æœ‰ Watcher æ›´æ–°</li>
</ul>
</li>
</ol>
<h2 id="13-Vue-ä¸­çš„-nextTick-æœ‰ä»€ä¹ˆä½œç”¨"><a href="#13-Vue-ä¸­çš„-nextTick-æœ‰ä»€ä¹ˆä½œç”¨" class="headerlink" title="13. Vue ä¸­çš„$nextTick æœ‰ä»€ä¹ˆä½œç”¨"></a>13. Vue ä¸­çš„$nextTick æœ‰ä»€ä¹ˆä½œç”¨</h2><h3 id="NextTick-æ˜¯ä»€ä¹ˆ"><a href="#NextTick-æ˜¯ä»€ä¹ˆ" class="headerlink" title="NextTick æ˜¯ä»€ä¹ˆ"></a>NextTick æ˜¯ä»€ä¹ˆ</h3><blockquote>
<p>Vue åœ¨æ›´æ–° DOM æ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚å½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªå¼‚æ­¥æ›´æ–°é˜Ÿåˆ—ï¼Œè§†å›¾éœ€è¦ç­‰é˜Ÿåˆ—ä¸­æ‰€æœ‰æ•°æ®å˜åŒ–å®Œæˆä¹‹åï¼Œå†ç»Ÿä¸€è¿›è¡Œæ›´æ–°</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆè¦æœ‰ nexttick</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>  &#123;<br>    num<br>  &#125;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++) &#123;<br>  num = i<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰ nextTick æ›´æ–°æœºåˆ¶ï¼Œé‚£ä¹ˆ num æ¯æ¬¡æ›´æ–°å€¼éƒ½ä¼šè§¦å‘è§†å›¾æ›´æ–°(ä¸Šé¢è¿™æ®µä»£ç ä¹Ÿå°±æ˜¯ä¼šæ›´æ–° 10 ä¸‡æ¬¡è§†å›¾)ï¼Œæœ‰äº† nextTick æœºåˆ¶ï¼Œåªéœ€è¦æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥ nextTick æœ¬è´¨æ˜¯ä¸€ç§ä¼˜åŒ–ç­–ç•¥</p>
<h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><blockquote>
<p>å¦‚æœæƒ³è¦åœ¨ä¿®æ”¹æ•°æ®åç«‹åˆ»å¾—åˆ°æ›´æ–°åçš„ DOM ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨ Vue.nextTick()</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.$nextTick(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span>.<span class="hljs-property">textContent</span>) <span class="hljs-comment">// =&gt; &#x27;ä¿®æ”¹åçš„å€¼&#x27;</span><br>&#125;)<br><br><span class="hljs-comment">// $nextTick() ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ç”¨async/awaitå®Œæˆç›¸åŒä½œç”¨çš„äº‹æƒ…</span><br><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">&#x27;ä¿®æ”¹åçš„å€¼&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span>.<span class="hljs-property">textContent</span>) <span class="hljs-comment">// =&gt; &#x27;åŸå§‹çš„å€¼&#x27;</span><br><span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.$nextTick()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span>.<span class="hljs-property">textContent</span>) <span class="hljs-comment">// =&gt; &#x27;ä¿®æ”¹åçš„å€¼&#x27;</span><br></code></pre></td></tr></table></figure>

<h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><ol>
<li>æŠŠå›è°ƒå‡½æ•°æ”¾å…¥ callbacks ç­‰å¾…æ‰§è¡Œ</li>
<li>å°†æ‰§è¡Œå‡½æ•°æ”¾åˆ°å¾®ä»»åŠ¡æˆ–è€…å®ä»»åŠ¡ä¸­</li>
<li>äº‹ä»¶å¾ªç¯åˆ°äº†å¾®ä»»åŠ¡æˆ–è€…å®ä»»åŠ¡ï¼Œæ‰§è¡Œå‡½æ•°ä¾æ¬¡æ‰§è¡Œ callbacks ä¸­çš„å›è°ƒ</li>
</ol>
<h2 id="14-è¯´è¯´ä½ å¯¹-slot-çš„ç†è§£ï¼Ÿslot-ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><a href="#14-è¯´è¯´ä½ å¯¹-slot-çš„ç†è§£ï¼Ÿslot-ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="14. è¯´è¯´ä½ å¯¹ slot çš„ç†è§£ï¼Ÿslot ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"></a>14. è¯´è¯´ä½ å¯¹ slot çš„ç†è§£ï¼Ÿslot ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h2><blockquote>
<p>(æ’æ§½)æ˜¯ Web ç»„ä»¶å†…çš„ä¸€ä¸ªå ä½ç¬¦è¯¥å ä½ç¬¦å¯ä»¥åœ¨åæœŸä½¿ç”¨è‡ªå·±çš„æ ‡è®°è¯­è¨€å¡«å……</p>
</blockquote>
<p><strong>ä½œç”¨</strong>:é€šè¿‡æ’æ§½å¯ä»¥è®©ç”¨æˆ·å¯ä»¥æ‹“å±•ç»„ä»¶ï¼Œå»æ›´å¥½åœ°å¤ç”¨ç»„ä»¶å’Œå¯¹å…¶åšå®šåˆ¶åŒ–å¤„ç†.</p>
<p><strong>åˆ†ç±»</strong>:</p>
<h3 id="é»˜è®¤æ’æ§½"><a href="#é»˜è®¤æ’æ§½" class="headerlink" title="é»˜è®¤æ’æ§½"></a>é»˜è®¤æ’æ§½</h3><blockquote>
<p>å­ç»„ä»¶ç”¨<slot>æ ‡ç­¾æ¥ç¡®å®šæ¸²æŸ“çš„ä½ç½®ï¼Œæ ‡ç­¾é‡Œé¢å¯ä»¥æ”¾ DOM ç»“æ„ï¼Œå½“çˆ¶ç»„ä»¶ä½¿ç”¨çš„æ—¶å€™æ²¡æœ‰å¾€æ’æ§½ä¼ å…¥å†…å®¹ï¼Œæ ‡ç­¾å†… DOM ç»“æ„å°±ä¼šæ˜¾ç¤ºåœ¨é¡µé¢</slot></p>
</blockquote>
<blockquote>
<p>çˆ¶ç»„ä»¶åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥åœ¨å­ç»„ä»¶çš„æ ‡ç­¾å†…å†™å…¥å†…å®¹å³å¯</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å­ç»„ä»¶Child.vue --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ’æ§½åå¤‡çš„å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">Child</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é»˜è®¤æ’æ§½<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">Child</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="å…·åæ’æ§½"><a href="#å…·åæ’æ§½" class="headerlink" title="å…·åæ’æ§½"></a>å…·åæ’æ§½</h3><blockquote>
<p>å­ç»„ä»¶ç”¨ name å±æ€§æ¥è¡¨ç¤ºæ’æ§½çš„åå­—ï¼Œä¸ä¼ ä¸ºé»˜è®¤æ’æ§½</p>
</blockquote>
<blockquote>
<p>çˆ¶ç»„ä»¶ä¸­åœ¨ä½¿ç”¨æ—¶åœ¨é»˜è®¤æ’æ§½çš„åŸºç¡€ä¸ŠåŠ ä¸Š slot å±æ€§ï¼Œå€¼ä¸ºå­ç»„ä»¶æ’æ§½ name å±æ€§å€¼</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å­ç»„ä»¶Child.vue --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span>æ’æ§½åå¤‡çš„å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>æ’æ§½åå¤‡çš„å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">child</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:default</span>&gt;</span>å…·åæ’æ§½<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å…·åæ’æ§½â½¤æ’æ§½ååšå‚æ•° --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">content</span>&gt;</span>å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="ä½œç”¨åŸŸæ’æ§½"><a href="#ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½"></a>ä½œç”¨åŸŸæ’æ§½</h3><blockquote>
<p>å­ç»„ä»¶åœ¨ä½œç”¨åŸŸä¸Šç»‘å®šå±æ€§æ¥å°†å­ç»„ä»¶çš„ä¿¡æ¯ä¼ ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ï¼Œè¿™äº›å±æ€§ä¼šè¢«æŒ‚åœ¨çˆ¶ç»„ä»¶ v-slot æ¥å—çš„å¯¹è±¡ä¸Š</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- // å­ç»„ä»¶Child.vue --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;footer&quot;</span> <span class="hljs-attr">testProps</span>=<span class="hljs-string">&quot;å­ç»„ä»¶çš„å€¼&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æ²¡ä¼ footeræ’æ§½<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- // çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">child</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- æŠŠv-slotçš„å€¼æŒ‡å®šä¸ºä½œâ½¤åŸŸä¸Šä¸‹â½‚å¯¹è±¡ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:default</span>=<span class="hljs-string">&quot;slotProps&quot;</span>&gt;</span><br>    æ¥â¾ƒâ¼¦ç»„ä»¶æ•°æ®ï¼š&#123;&#123;slotProps.testProps&#125;&#125;<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>=<span class="hljs-string">&quot;slotProps&quot;</span>&gt;</span><br>    æ¥â¾ƒâ¼¦ç»„ä»¶æ•°æ®ï¼š&#123;&#123;slotProps.testProps&#125;&#125;<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>åœ¨æºç å±‚é¢ï¼ŒVue çš„ç¼–è¯‘å™¨ä¼šå°† slot æ ‡ç­¾è§£ææˆå¯¹åº”çš„ VNodeï¼Œå¹¶åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­æ ¹æ® VNode çš„ä¿¡æ¯æ¥å¤„ç† slotã€‚å…·ä½“æ¥è¯´ï¼Œç¼–è¯‘å™¨ä¼šä¸º slot ç”Ÿæˆå¯¹åº”çš„æ¸²æŸ“å‡½æ•°ï¼Œå¹¶åœ¨æ¸²æŸ“å‡½æ•°ä¸­æ ¹æ® slot çš„ç±»å‹å’Œå±æ€§å€¼æ¥å†³å®šå¦‚ä½•å¤„ç†æ’æ§½å†…å®¹ã€‚</p>
<h2 id="15-Vue-observable-ä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹"><a href="#15-Vue-observable-ä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹" class="headerlink" title="15. Vue.observable ä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹"></a>15. Vue.observable ä½ æœ‰äº†è§£è¿‡å—ï¼Ÿè¯´è¯´çœ‹</h2><blockquote>
<p><code>Vue.observable</code>ï¼Œè®©ä¸€ä¸ªå¯¹è±¡å˜æˆ<code>å“åº”å¼æ•°æ®</code>ã€‚Vue å†…éƒ¨ä¼šç”¨å®ƒæ¥å¤„ç† data å‡½æ•°è¿”å›çš„å¯¹è±¡</p>
</blockquote>
<h3 id="ä½¿ç”¨åœºæ™¯-1"><a href="#ä½¿ç”¨åœºæ™¯-1" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><blockquote>
<p>åœ¨éçˆ¶å­ç»„ä»¶é€šä¿¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€šå¸¸çš„ bus æˆ–è€…ä½¿ç”¨ vuexï¼Œä½†æ˜¯å®ç°çš„åŠŸèƒ½ä¸æ˜¯å¤ªå¤æ‚ï¼Œè€Œä½¿ç”¨ä¸Šé¢ä¸¤ä¸ªåˆæœ‰ç‚¹ç¹çã€‚è¿™æ—¶ï¼Œobservable å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªjsæ–‡ä»¶</span><br><br><span class="hljs-comment">// å¼•å…¥vue</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue</span><br><span class="hljs-string">// åˆ›å»ºstateå¯¹è±¡ï¼Œä½¿ç”¨observableè®©stateå¯¹è±¡å¯å“åº”</span><br><span class="hljs-string">export let state = Vue.observable(&#123;</span><br><span class="hljs-string">  name: &#x27;</span>å¼ ä¸‰<span class="hljs-string">&#x27;,</span><br><span class="hljs-string">  &#x27;</span>age<span class="hljs-string">&#x27;: 38</span><br><span class="hljs-string">&#125;)</span><br><span class="hljs-string">// åˆ›å»ºå¯¹åº”çš„æ–¹æ³•</span><br><span class="hljs-string">export let mutations = &#123;</span><br><span class="hljs-string">  changeName(name) &#123;</span><br><span class="hljs-string">    state.name = name</span><br><span class="hljs-string">  &#125;,</span><br><span class="hljs-string">  setAge(age) &#123;</span><br><span class="hljs-string">    state.age = age</span><br><span class="hljs-string">  &#125;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">// åœ¨.vueæ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨å³å¯</span><br><span class="hljs-string"></span><br><span class="hljs-string">&lt;template&gt;</span><br><span class="hljs-string">  &lt;div&gt;</span><br><span class="hljs-string">    å§“åï¼š&#123;&#123; name &#125;&#125;</span><br><span class="hljs-string">    å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;</span><br><span class="hljs-string">    &lt;button @click=&quot;changeName(&#x27;</span>æå››<span class="hljs-string">&#x27;)&quot;&gt;æ”¹å˜å§“å&lt;/button&gt;</span><br><span class="hljs-string">    &lt;button @click=&quot;setAge(18)&quot;&gt;æ”¹å˜å¹´é¾„&lt;/button&gt;</span><br><span class="hljs-string">  &lt;/div&gt;</span><br><span class="hljs-string">&lt;/template&gt;</span><br><span class="hljs-string">import &#123; state, mutations &#125; from &#x27;</span>@/store<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// åœ¨è®¡ç®—å±æ€§ä¸­æ‹¿åˆ°å€¼</span><br>  <span class="hljs-attr">computed</span>: &#123;<br>    <span class="hljs-title function_">name</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">return</span> state.<span class="hljs-property">name</span><br>    &#125;,<br>    <span class="hljs-title function_">age</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">return</span> state.<span class="hljs-property">age</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-comment">// è°ƒç”¨mutationsé‡Œé¢çš„æ–¹æ³•ï¼Œæ›´æ–°æ•°æ®</span><br>  <span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-attr">changeName</span>: mutations.<span class="hljs-property">changeName</span>,<br>    <span class="hljs-attr">setAge</span>: mutations.<span class="hljs-property">setAge</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="åŸç†-2"><a href="#åŸç†-2" class="headerlink" title="åŸç†"></a>åŸç†</h3><h2 id="16-ä½ çŸ¥é“-vue-ä¸­-key-çš„åŸç†å—ï¼Ÿè¯´è¯´ä½ å¯¹å®ƒçš„ç†è§£"><a href="#16-ä½ çŸ¥é“-vue-ä¸­-key-çš„åŸç†å—ï¼Ÿè¯´è¯´ä½ å¯¹å®ƒçš„ç†è§£" class="headerlink" title="16. ä½ çŸ¥é“ vue ä¸­ key çš„åŸç†å—ï¼Ÿè¯´è¯´ä½ å¯¹å®ƒçš„ç†è§£"></a>16. ä½ çŸ¥é“ vue ä¸­ key çš„åŸç†å—ï¼Ÿè¯´è¯´ä½ å¯¹å®ƒçš„ç†è§£</h2><blockquote>
<p>key æ˜¯ç»™æ¯ä¸€ä¸ª vnode çš„å”¯ä¸€ idï¼Œä¹Ÿæ˜¯ diff çš„ä¸€ç§ä¼˜åŒ–ç­–ç•¥ï¼Œå¯ä»¥æ ¹æ® keyï¼Œæ›´å‡†ç¡®ï¼Œ æ›´å¿«çš„æ‰¾åˆ°å¯¹åº”çš„ vnode èŠ‚ç‚¹</p>
</blockquote>
<h3 id="å½“æˆ‘ä»¬åœ¨ä½¿ç”¨-v-for-æ—¶ï¼Œéœ€è¦ç»™å•å…ƒåŠ ä¸Š-key"><a href="#å½“æˆ‘ä»¬åœ¨ä½¿ç”¨-v-for-æ—¶ï¼Œéœ€è¦ç»™å•å…ƒåŠ ä¸Š-key" class="headerlink" title="å½“æˆ‘ä»¬åœ¨ä½¿ç”¨ v-for æ—¶ï¼Œéœ€è¦ç»™å•å…ƒåŠ ä¸Š key"></a>å½“æˆ‘ä»¬åœ¨ä½¿ç”¨ v-for æ—¶ï¼Œéœ€è¦ç»™å•å…ƒåŠ ä¸Š key</h3><ol>
<li><p>å¦‚æœä¸ç”¨ keyï¼ŒVue ä¼šé‡‡ç”¨å°±åœ°å¤ç”¨åŸåˆ™ï¼šæœ€å°åŒ– element çš„ç§»åŠ¨ï¼Œå¹¶ä¸”ä¼šå°è¯•å°½æœ€å¤§ç¨‹åº¦åœ¨åŒé€‚å½“çš„åœ°æ–¹å¯¹ç›¸åŒç±»å‹çš„ elementï¼Œåš patch æˆ–è€… reuseã€‚<br>åˆ†æä¸‹æ•´ä½“æµç¨‹ï¼š<br>æ¯”è¾ƒ Aï¼ŒAï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œä½†æ•°æ®ç›¸åŒï¼Œä¸å‘ç”Ÿ dom æ“ä½œ<br>æ¯”è¾ƒ Bï¼ŒBï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œä½†æ•°æ®ç›¸åŒï¼Œä¸å‘ç”Ÿ dom æ“ä½œ<br>æ¯”è¾ƒ Cï¼ŒFï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œæ•°æ®ä¸åŒï¼Œå‘ç”Ÿ dom æ“ä½œ<br>æ¯”è¾ƒ Dï¼ŒCï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œæ•°æ®ä¸åŒï¼Œå‘ç”Ÿ dom æ“ä½œ<br>æ¯”è¾ƒ Eï¼ŒDï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œæ•°æ®ä¸åŒï¼Œå‘ç”Ÿ dom æ“ä½œ<br>å¾ªç¯ç»“æŸï¼Œå°† E æ’å…¥åˆ° DOM ä¸­<br>ä¸€å…±å‘ç”Ÿäº† 3 æ¬¡æ›´æ–°ï¼Œ1 æ¬¡æ’å…¥æ“ä½œ</p>
</li>
<li><p>å¦‚æœä½¿ç”¨äº† keyï¼ŒVue ä¼šæ ¹æ® keys çš„é¡ºåºè®°å½• elementï¼Œæ›¾ç»æ‹¥æœ‰äº† key çš„ element å¦‚æœä¸å†å‡ºç°çš„è¯ï¼Œä¼šè¢«ç›´æ¥ remove æˆ–è€… destoryed<br>åœ¨ä½¿ç”¨ key çš„æƒ…å†µï¼švue ä¼šè¿›è¡Œè¿™æ ·çš„æ“ä½œï¼š<br>æ¯”è¾ƒ Aï¼ŒAï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œä½†æ•°æ®ç›¸åŒï¼Œä¸å‘ç”Ÿ dom æ“ä½œ<br>æ¯”è¾ƒ Bï¼ŒBï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œä½†æ•°æ®ç›¸åŒï¼Œä¸å‘ç”Ÿ dom æ“ä½œ<br>æ¯”è¾ƒ Cï¼ŒFï¼Œä¸ç›¸åŒç±»å‹çš„èŠ‚ç‚¹<br>æ¯”è¾ƒ Eã€Eï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œä½†æ•°æ®ç›¸åŒï¼Œä¸å‘ç”Ÿ dom æ“ä½œ<br>æ¯”è¾ƒ Dã€Dï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œä½†æ•°æ®ç›¸åŒï¼Œä¸å‘ç”Ÿ dom æ“ä½œ<br>æ¯”è¾ƒ Cã€Cï¼Œç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿›è¡Œ patchï¼Œä½†æ•°æ®ç›¸åŒï¼Œä¸å‘ç”Ÿ dom æ“ä½œ<br>å¾ªç¯ç»“æŸï¼Œå°† F æ’å…¥åˆ° C ä¹‹å‰<br>ä¸€å…±å‘ç”Ÿäº† 0 æ¬¡æ›´æ–°ï¼Œ1 æ¬¡æ’å…¥æ“ä½œ</p>
</li>
</ol>
<h2 id="17-è¯´è¯´ä½ å¯¹-keep-alive-çš„ç†è§£æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#17-è¯´è¯´ä½ å¯¹-keep-alive-çš„ç†è§£æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="17. è¯´è¯´ä½ å¯¹ keep-alive çš„ç†è§£æ˜¯ä»€ä¹ˆï¼Ÿ"></a>17. è¯´è¯´ä½ å¯¹ keep-alive çš„ç†è§£æ˜¯ä»€ä¹ˆï¼Ÿ</h2><blockquote>
<p>keep-alive æ˜¯ vue ä¸­çš„å†…ç½®ç»„ä»¶ï¼Œèƒ½åœ¨ç»„ä»¶åˆ‡æ¢è¿‡ç¨‹ä¸­å°†çŠ¶æ€ä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œé˜²æ­¢é‡å¤æ¸²æŸ“ DOM<br><br>keep-alive åŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ï¼Œè€Œä¸æ˜¯é”€æ¯å®ƒä»¬</p>
</blockquote>
<h3 id="keep-alive-å±æ€§"><a href="#keep-alive-å±æ€§" class="headerlink" title="keep-alive å±æ€§"></a>keep-alive å±æ€§</h3><blockquote>
<p>keep-alive å¯ä»¥è®¾ç½®ä»¥ä¸‹ props å±æ€§ï¼š</p>
</blockquote>
<ol>
<li>include - å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚åªæœ‰åç§°åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜</li>
<li>exclude - å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚ä»»ä½•åç§°åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜</li>
<li>max - æ•°å­—ã€‚æœ€å¤šå¯ä»¥ç¼“å­˜å¤šå°‘ç»„ä»¶å®ä¾‹</li>
</ol>
<h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><blockquote>
<p>è®¾ç½®äº† keep-alive ç¼“å­˜çš„ç»„ä»¶ï¼Œä¼šå¤šå‡ºä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆactivated ä¸ deactivatedï¼‰ï¼š</p>
</blockquote>
<ol>
<li>é¦–æ¬¡è¿›å…¥ç»„ä»¶æ—¶ï¼šbeforeRouteEnter &gt; beforeCreate &gt; created&gt; mounted &gt; activated &gt; â€¦ â€¦ &gt; beforeRouteLeave &gt; deactivated</li>
<li>å†æ¬¡è¿›å…¥ç»„ä»¶æ—¶ï¼šbeforeRouteEnter &gt;activated &gt; â€¦ â€¦ &gt; beforeRouteLeave &gt; deactivated</li>
</ol>
<h3 id="åŸç†-3"><a href="#åŸç†-3" class="headerlink" title="åŸç†"></a>åŸç†</h3><ol>
<li>åœ¨ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™ä¼šè‡ªåŠ¨æ‰§è¡Œ render å‡½æ•°<br><br>this.cache æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å­˜å‚¨éœ€è¦ç¼“å­˜çš„ç»„ä»¶ï¼Œå®ƒå°†ä»¥å¦‚ä¸‹å½¢å¼å­˜å‚¨ï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = &#123;<br>  <span class="hljs-attr">key1</span>: <span class="hljs-string">&#x27;ç»„ä»¶1&#x27;</span>,<br>  <span class="hljs-attr">key2</span>: <span class="hljs-string">&#x27;ç»„ä»¶2&#x27;</span>,<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>åœ¨ç»„ä»¶é”€æ¯çš„æ—¶å€™æ‰§è¡Œ pruneCacheEntry å‡½æ•°</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">cache[key] = <span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure>

<ol start="3">
<li>åœ¨ mounted é’©å­å‡½æ•°ä¸­è§‚æµ‹ include å’Œ exclude çš„å˜åŒ–ï¼Œå¦‚ä¸‹</li>
<li>å¦‚æœ include æˆ– exclude å‘ç”Ÿäº†å˜åŒ–ï¼Œå³è¡¨ç¤ºå®šä¹‰éœ€è¦ç¼“å­˜çš„ç»„ä»¶çš„è§„åˆ™æˆ–è€…ä¸éœ€è¦ç¼“å­˜çš„ç»„ä»¶çš„è§„åˆ™å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œ pruneCache å‡½æ•°</li>
<li>åœ¨è¯¥å‡½æ•°å†…å¯¹ this.cache å¯¹è±¡è¿›è¡Œéå†ï¼Œå–å‡ºæ¯ä¸€é¡¹çš„ name å€¼ï¼Œç”¨å…¶ä¸æ–°çš„ç¼“å­˜è§„åˆ™è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œåˆ™è¡¨ç¤ºåœ¨æ–°çš„ç¼“å­˜è§„åˆ™ä¸‹è¯¥ç»„ä»¶å·²ç»ä¸éœ€è¦è¢«ç¼“å­˜ï¼Œåˆ™è°ƒç”¨ pruneCacheEntry å‡½æ•°å°†å…¶ä» this.cache å¯¹è±¡å‰”é™¤å³å¯</li>
</ol>
<h3 id="ç¼“å­˜åŸç†"><a href="#ç¼“å­˜åŸç†" class="headerlink" title="ç¼“å­˜åŸç†"></a>ç¼“å­˜åŸç†</h3><ol>
<li>é¦–å…ˆè·å–ç»„ä»¶çš„ key å€¼ï¼š<code>const key = vnode.key == null? </code></li>
<li>æ‹¿åˆ° key å€¼åå» this.cache å¯¹è±¡ä¸­å»å¯»æ‰¾æ˜¯å¦æœ‰è¯¥å€¼ï¼Œå¦‚æœæœ‰åˆ™è¡¨ç¤ºè¯¥ç»„ä»¶æœ‰ç¼“å­˜ï¼Œå³å‘½ä¸­ç¼“å­˜ï¼Œå¦‚ä¸‹ï¼šç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿ vnode çš„ç»„ä»¶å®ä¾‹ï¼Œæ­¤æ—¶é‡æ–°è°ƒæ•´è¯¥ç»„ä»¶ key çš„é¡ºåºï¼Œå°†å…¶ä»åŸæ¥çš„åœ°æ–¹åˆ æ‰å¹¶é‡æ–°æ”¾åœ¨ this.keys ä¸­æœ€åä¸€ä¸ª</li>
<li>this.cache å¯¹è±¡ä¸­æ²¡æœ‰è¯¥ key å€¼çš„æƒ…å†µï¼Œå¦‚ä¸‹ï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* å¦‚æœæ²¡æœ‰å‘½ä¸­ç¼“å­˜ï¼Œåˆ™å°†å…¶è®¾ç½®è¿›ç¼“å­˜ */</span><br><span class="hljs-keyword">else</span> &#123;<br>    cache[key] = vnode<br>    keys.<span class="hljs-title function_">push</span>(key)<br>    <span class="hljs-comment">/* å¦‚æœé…ç½®äº†maxå¹¶ä¸”ç¼“å­˜çš„é•¿åº¦è¶…è¿‡äº†this.maxï¼Œåˆ™ä»ç¼“å­˜ä¸­åˆ é™¤ç¬¬ä¸€ä¸ª */</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span> &amp;&amp; keys.<span class="hljs-property">length</span> &gt; <span class="hljs-built_in">parseInt</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span>)) &#123;<br>        <span class="hljs-title function_">pruneCacheEntry</span>(cache, keys[<span class="hljs-number">0</span>], keys, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_vnode</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¡¨æ˜è¯¥ç»„ä»¶è¿˜æ²¡æœ‰è¢«ç¼“å­˜è¿‡ï¼Œåˆ™ä»¥è¯¥ç»„ä»¶çš„ key ä¸ºé”®ï¼Œç»„ä»¶ vnode ä¸ºå€¼ï¼Œå°†å…¶å­˜å…¥ this.cache ä¸­ï¼Œå¹¶ä¸”æŠŠ key å­˜å…¥ this.keys ä¸­</p>
<p>æ­¤æ—¶å†åˆ¤æ–­ this.keys ä¸­ç¼“å­˜ç»„ä»¶çš„æ•°é‡æ˜¯å¦è¶…è¿‡äº†è®¾ç½®çš„æœ€å¤§ç¼“å­˜æ•°é‡å€¼ this.maxï¼Œå¦‚æœè¶…è¿‡äº†ï¼Œåˆ™æŠŠç¬¬ä¸€ä¸ªç¼“å­˜ç»„ä»¶åˆ æ‰</p>
<h2 id="18-Vue-å¸¸ç”¨çš„ä¿®é¥°ç¬¦æœ‰å“ªäº›æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯"><a href="#18-Vue-å¸¸ç”¨çš„ä¿®é¥°ç¬¦æœ‰å“ªäº›æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯" class="headerlink" title="18. Vue å¸¸ç”¨çš„ä¿®é¥°ç¬¦æœ‰å“ªäº›æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯"></a>18. Vue å¸¸ç”¨çš„ä¿®é¥°ç¬¦æœ‰å“ªäº›æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯</h2><p>Vue å¸¸ç”¨çš„ä¿®é¥°ç¬¦æœ‰å“ªäº›æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯</p>
<blockquote>
<p>åœ¨ Vue ä¸­ï¼Œä¿®é¥°ç¬¦å¤„ç†äº†è®¸å¤š DOM äº‹ä»¶çš„ç»†èŠ‚:è¡¨å•ä¿®é¥°ç¬¦\äº‹ä»¶ä¿®é¥°ç¬¦\é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦\é”®å€¼ä¿®é¥°ç¬¦\v-bind ä¿®é¥°ç¬¦</p>
</blockquote>
<h3 id="è¡¨å•ä¿®é¥°ç¬¦"><a href="#è¡¨å•ä¿®é¥°ç¬¦" class="headerlink" title="è¡¨å•ä¿®é¥°ç¬¦"></a>è¡¨å•ä¿®é¥°ç¬¦</h3><ol>
<li>lazy<blockquote>
<p>åœ¨æˆ‘ä»¬å¡«å®Œä¿¡æ¯ï¼Œå…‰æ ‡ç¦»å¼€æ ‡ç­¾çš„æ—¶å€™ï¼Œæ‰ä¼šå°†å€¼èµ‹äºˆç»™ valueï¼Œä¹Ÿå°±æ˜¯åœ¨ change äº‹ä»¶ä¹‹åå†è¿›è¡Œä¿¡æ¯åŒæ­¥</p>
</blockquote>
</li>
</ol>
<p><code>&lt;input type=&quot;text&quot; v-model.lazy=&quot;value&quot;&gt;</code></p>
<ol start="2">
<li>trim<blockquote>
<p>è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–ç©ºæ ¼å­—ç¬¦ï¼Œè€Œä¸­é—´çš„ç©ºæ ¼ä¸ä¼šè¿‡æ»¤</p>
</blockquote>
</li>
</ol>
<p><code>&lt;input type=&quot;text&quot; v-model.trim=&quot;value&quot;&gt;</code></p>
<ol start="3">
<li>number<blockquote>
<p>è‡ªåŠ¨å°†ç”¨æˆ·çš„è¾“å…¥å€¼è½¬ä¸ºæ•°å€¼ç±»å‹ï¼Œä½†å¦‚æœè¿™ä¸ªå€¼æ— æ³•è¢« parseFloat è§£æï¼Œåˆ™ä¼šè¿”å›åŸæ¥çš„å€¼</p>
</blockquote>
</li>
</ol>
<p><code>&lt;input type=&quot;text&quot; v-model.number=&quot;value&quot;&gt;</code></p>
<h3 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><ol>
<li>stop<blockquote>
<p>é˜»æ­¢äº†äº‹ä»¶å†’æ³¡ï¼Œç›¸å½“äºè°ƒç”¨äº† event.stopPropagation æ–¹æ³•</p>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div @click=<span class="hljs-string">&quot;shout(2)&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.stop</span>=<span class="hljs-string">&quot;shout(1)&quot;</span>&gt;</span>ok<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>prevent<blockquote>
<p>é˜»æ­¢äº†äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œç›¸å½“äºè°ƒç”¨äº† event.preventDefault æ–¹æ³•</p>
</blockquote>
</li>
</ol>
<p><code>&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;</code></p>
<ol start="3">
<li>self<blockquote>
<p>åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•°</p>
</blockquote>
</li>
</ol>
<p><code>&lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;</code></p>
<ol start="4">
<li>once<blockquote>
<p>ç»‘å®šäº†äº‹ä»¶ä»¥ååªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œç¬¬äºŒæ¬¡å°±ä¸ä¼šè§¦å‘</p>
</blockquote>
</li>
</ol>
<p>&lt;button @click.once&#x3D;â€shout(1)â€&gt;ok</p>
<ol start="5">
<li>capture<blockquote>
<p>ä½¿äº‹ä»¶è§¦å‘ä»åŒ…å«è¿™ä¸ªå…ƒç´ çš„é¡¶å±‚å¼€å§‹å¾€ä¸‹è§¦å‘</p>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div @click.<span class="hljs-property">capture</span>=<span class="hljs-string">&quot;shout(1)&quot;</span>&gt;<br>    obj1<br>   &lt;div @click.<span class="hljs-property">capture</span>=<span class="hljs-string">&quot;shout(2)&quot;</span>&gt;<br>         obj2<br>      &lt;div @click=<span class="hljs-string">&quot;shout(3)&quot;</span>&gt;<br>            obj3<br>            &lt;div @click=<span class="hljs-string">&quot;shout(4)&quot;</span>&gt;<br>               obj4<br>            &lt;/div&gt;<br>      &lt;/div&gt;<br>   &lt;/div&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<ol start="6">
<li>passive<blockquote>
<p>åœ¨ç§»åŠ¨ç«¯ï¼Œå½“æˆ‘ä»¬åœ¨ç›‘å¬å…ƒç´ æ»šåŠ¨äº‹ä»¶çš„æ—¶å€™ï¼Œä¼šä¸€ç›´è§¦å‘ onscroll äº‹ä»¶ä¼šè®©æˆ‘ä»¬çš„ç½‘é¡µå˜å¡ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªä¿®é¥°ç¬¦çš„æ—¶å€™ï¼Œç›¸å½“äºç»™ onscroll äº‹ä»¶æ•´äº†ä¸€ä¸ª.lazy ä¿®é¥°ç¬¦</p>
</blockquote>
</li>
</ol>
<p><code>&lt;div v-on:scroll.passive=&quot;onScroll&quot;&gt;...&lt;/div&gt;</code></p>
<ol start="7">
<li>native<blockquote>
<p>è®©ç»„ä»¶å˜æˆåƒ html å†…ç½®æ ‡ç­¾é‚£æ ·ç›‘å¬æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ï¼Œå¦åˆ™ç»„ä»¶ä¸Šä½¿ç”¨ v-on åªä¼šç›‘å¬è‡ªå®šä¹‰äº‹ä»¶</p>
</blockquote>
</li>
</ol>
<p><code>&lt;my-component v-on:click.native=&quot;doSomething&quot;&gt;&lt;/my-component&gt;</code></p>
<h3 id="é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦"></a>é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦</h3><blockquote>
<p>é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦é’ˆå¯¹çš„å°±æ˜¯å·¦é”®ã€å³é”®ã€ä¸­é”®ç‚¹å‡»ï¼Œæœ‰å¦‚ä¸‹ï¼š</p>
</blockquote>
<ol>
<li>left å·¦é”®ç‚¹å‡»</li>
<li>right å³é”®ç‚¹å‡»</li>
<li>middle ä¸­é”®ç‚¹å‡»</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;button @click.<span class="hljs-property">left</span>=<span class="hljs-string">&quot;shout(1)&quot;</span>&gt;ok&lt;/button&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.right</span>=<span class="hljs-string">&quot;shout(1)&quot;</span>&gt;</span>ok<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.middle</span>=<span class="hljs-string">&quot;shout(1)&quot;</span>&gt;</span>ok<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h3 id="é”®å€¼ä¿®é¥°ç¬¦"><a href="#é”®å€¼ä¿®é¥°ç¬¦" class="headerlink" title="é”®å€¼ä¿®é¥°ç¬¦"></a>é”®å€¼ä¿®é¥°ç¬¦</h3><blockquote>
<p>é”®ç›˜ä¿®é¥°ç¬¦æ˜¯ç”¨æ¥ä¿®é¥°é”®ç›˜äº‹ä»¶ï¼ˆonkeyupï¼Œonkeydownï¼‰çš„ï¼Œæœ‰å¦‚ä¸‹ï¼š</p>
</blockquote>
<ol>
<li>æ™®é€šé”®ï¼ˆenterã€tabã€deleteã€spaceã€escã€upâ€¦ï¼‰</li>
<li>ç³»ç»Ÿä¿®é¥°é”®ï¼ˆctrlã€altã€metaã€shiftâ€¦ï¼‰</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// åªæœ‰æŒ‰é”®ä¸ºkeyCodeçš„æ—¶å€™æ‰è§¦å‘</span><br>&lt;input type=<span class="hljs-string">&quot;text&quot;</span> @keyup.<span class="hljs-property">keyCode</span>=<span class="hljs-string">&quot;shout()&quot;</span>&gt;<br></code></pre></td></tr></table></figure>

<h3 id="v-bind-ä¿®é¥°ç¬¦"><a href="#v-bind-ä¿®é¥°ç¬¦" class="headerlink" title="v-bind ä¿®é¥°ç¬¦"></a>v-bind ä¿®é¥°ç¬¦</h3><ol>
<li>sync<blockquote>
<p>èƒ½å¯¹ props è¿›è¡Œä¸€ä¸ªåŒå‘ç»‘å®š</p>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//çˆ¶ç»„ä»¶</span><br>&lt;comp :myMessage.<span class="hljs-property">sync</span>=<span class="hljs-string">&quot;bar&quot;</span>&gt;&lt;/comp&gt;<br><span class="hljs-comment">//å­ç»„ä»¶</span><br><span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&#x27;update:myMessage&#x27;</span>,params);<br><br><span class="hljs-comment">//çˆ¶äº²ç»„ä»¶</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">comp</span> <span class="hljs-attr">:myMessage</span>=<span class="hljs-string">&quot;bar&quot;</span> @<span class="hljs-attr">update:myMessage</span>=<span class="hljs-string">&quot;func&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">comp</span>&gt;</span></span><br><span class="hljs-title function_">func</span>(<span class="hljs-params">e</span>)&#123;<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">bar</span> = e;<br>&#125;<br><span class="hljs-comment">//å­ç»„ä»¶js</span><br><span class="hljs-title function_">func2</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&#x27;update:myMessage&#x27;</span>,params);<br>&#125;<br></code></pre></td></tr></table></figure>

<ol>
<li>ä½¿ç”¨ sync çš„æ—¶å€™ï¼Œå­ç»„ä»¶ä¼ é€’çš„äº‹ä»¶åæ ¼å¼å¿…é¡»ä¸º update:valueï¼Œå…¶ä¸­ value å¿…é¡»ä¸å­ç»„ä»¶ä¸­ props ä¸­å£°æ˜çš„åç§°å®Œå…¨ä¸€è‡´.</li>
<li>æ³¨æ„å¸¦æœ‰ .sync ä¿®é¥°ç¬¦çš„ v-bind ä¸èƒ½å’Œè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ (ä¾‹å¦‚ v-bind:title.sync&#x3D;â€doc.title + â€˜!â€™â€ æ˜¯æ— æ•ˆçš„)ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ åªèƒ½æä¾›ä½ æƒ³è¦ç»‘å®šçš„å±æ€§åï¼Œç±»ä¼¼ v-modelã€‚</li>
<li>å°† v-bind.sync ç”¨åœ¨ä¸€ä¸ªå­—é¢é‡çš„å¯¹è±¡ä¸Šï¼Œä¾‹å¦‚ v-bind.sync&#x3D;â€{ title: doc.title }â€ï¼Œæ˜¯æ— æ³•æ­£å¸¸å·¥ä½œçš„.</li>
</ol>
<ol start="2">
<li>props<blockquote>
<p>è®¾ç½®è‡ªå®šä¹‰æ ‡ç­¾å±æ€§ï¼Œé¿å…æš´éœ²æ•°æ®ï¼Œé˜²æ­¢æ±¡æŸ“ HTML ç»“æ„</p>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;input id=<span class="hljs-string">&quot;uid&quot;</span> title=<span class="hljs-string">&quot;title1&quot;</span> value=<span class="hljs-string">&quot;1&quot;</span> :index.<span class="hljs-property">prop</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;<br></code></pre></td></tr></table></figure>

<ol start="3">
<li>camel<blockquote>
<p>å°†å‘½åå˜ä¸ºé©¼å³°å‘½åæ³•ï¼Œå¦‚å°† view-Box å±æ€§åè½¬æ¢ä¸º viewBox</p>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;svg :viewBox=<span class="hljs-string">&quot;viewBox&quot;</span>&gt;&lt;/svg&gt;<br></code></pre></td></tr></table></figure>

<h2 id="19-ä½ æœ‰å†™è¿‡è‡ªå®šä¹‰æŒ‡ä»¤å—ï¼Ÿè‡ªå®šä¹‰æŒ‡ä»¤çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><a href="#19-ä½ æœ‰å†™è¿‡è‡ªå®šä¹‰æŒ‡ä»¤å—ï¼Ÿè‡ªå®šä¹‰æŒ‡ä»¤çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="19. ä½ æœ‰å†™è¿‡è‡ªå®šä¹‰æŒ‡ä»¤å—ï¼Ÿè‡ªå®šä¹‰æŒ‡ä»¤çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"></a>19. ä½ æœ‰å†™è¿‡è‡ªå®šä¹‰æŒ‡ä»¤å—ï¼Ÿè‡ªå®šä¹‰æŒ‡ä»¤çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h2><blockquote>
<p>åœ¨ vue ä¸­æä¾›äº†ä¸€å¥—ä¸ºæ•°æ®é©±åŠ¨è§†å›¾æ›´ä¸ºæ–¹ä¾¿çš„æ“ä½œï¼Œè¿™äº›æ“ä½œè¢«ç§°ä¸ºæŒ‡ä»¤ç³»ç»Ÿæˆ‘ä»¬çœ‹åˆ°çš„ v-å¼€å¤´çš„è¡Œå†…å±æ€§ï¼Œéƒ½æ˜¯æŒ‡ä»¤</p>
</blockquote>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><h4 id="å…¨å±€æ³¨å†Œä¸»è¦æ˜¯é€šè¿‡-Vue-directive-æ–¹æ³•è¿›è¡Œæ³¨å†Œ"><a href="#å…¨å±€æ³¨å†Œä¸»è¦æ˜¯é€šè¿‡-Vue-directive-æ–¹æ³•è¿›è¡Œæ³¨å†Œ" class="headerlink" title="å…¨å±€æ³¨å†Œä¸»è¦æ˜¯é€šè¿‡ Vue.directive æ–¹æ³•è¿›è¡Œæ³¨å†Œ"></a>å…¨å±€æ³¨å†Œä¸»è¦æ˜¯é€šè¿‡ Vue.directive æ–¹æ³•è¿›è¡Œæ³¨å†Œ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// Vue.directiveç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡ä»¤çš„åå­—ï¼ˆä¸éœ€è¦å†™ä¸Šv-å‰ç¼€ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯å¯¹è±¡æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæŒ‡ä»¤å‡½æ•°</span><br><br><span class="hljs-comment">// æ³¨å†Œä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ `v-focus`</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;focus&#x27;</span>, &#123;<br>  <span class="hljs-comment">// å½“è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥åˆ° DOM ä¸­æ—¶â€¦â€¦</span><br>  <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) &#123;<br>    <span class="hljs-comment">// èšç„¦å…ƒç´ </span><br>    el.<span class="hljs-title function_">focus</span>() <span class="hljs-comment">// é¡µé¢åŠ è½½å®Œæˆä¹‹åè‡ªåŠ¨è®©è¾“å…¥æ¡†è·å–åˆ°ç„¦ç‚¹çš„å°åŠŸèƒ½</span><br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure>

<h4 id="å±€éƒ¨æ³¨å†Œé€šè¿‡åœ¨ç»„ä»¶-options-é€‰é¡¹ä¸­è®¾ç½®-directive-å±æ€§"><a href="#å±€éƒ¨æ³¨å†Œé€šè¿‡åœ¨ç»„ä»¶-options-é€‰é¡¹ä¸­è®¾ç½®-directive-å±æ€§" class="headerlink" title="å±€éƒ¨æ³¨å†Œé€šè¿‡åœ¨ç»„ä»¶ options é€‰é¡¹ä¸­è®¾ç½® directive å±æ€§"></a>å±€éƒ¨æ³¨å†Œé€šè¿‡åœ¨ç»„ä»¶ options é€‰é¡¹ä¸­è®¾ç½® directive å±æ€§</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">directives</span>: &#123;<br>  <span class="hljs-attr">focus</span>: &#123;<br>    <span class="hljs-comment">// æŒ‡ä»¤çš„å®šä¹‰</span><br>    <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) &#123;<br>      el.<span class="hljs-title function_">focus</span>() <span class="hljs-comment">// é¡µé¢åŠ è½½å®Œæˆä¹‹åè‡ªåŠ¨è®©è¾“å…¥æ¡†è·å–åˆ°ç„¦ç‚¹çš„å°åŠŸèƒ½</span><br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><blockquote>
<p>æ‰€æœ‰çš„é’©å­å‡½æ•°çš„å‚æ•°éƒ½æœ‰ä»¥ä¸‹ï¼š</p>
</blockquote>
<ol>
<li>elï¼šæŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOM</li>
<li>bindingï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹ propertyï¼š<ol>
<li>nameï¼šæŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬ v- å‰ç¼€ã€‚</li>
<li>valueï¼šæŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œä¾‹å¦‚ï¼šv-my-directive&#x3D;â€1 + 1â€ ä¸­ï¼Œç»‘å®šå€¼ä¸º 2ã€‚</li>
<li>oldValueï¼šæŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨ã€‚</li>
<li>expressionï¼šå­—ç¬¦ä¸²å½¢å¼çš„æŒ‡ä»¤è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ v-my-directive&#x3D;â€1 + 1â€ ä¸­ï¼Œè¡¨è¾¾å¼ä¸º â€œ1 + 1â€ã€‚</li>
<li>argï¼šä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ï¼Œå¯é€‰ã€‚ä¾‹å¦‚ v-my-directive:foo ä¸­ï¼Œå‚æ•°ä¸º â€œfooâ€ã€‚</li>
<li>modifiersï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼šv-my-directive.foo.bar ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º { foo: true, bar: true }</li>
</ol>
</li>
<li>vnodeï¼šVue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹</li>
<li>oldVnodeï¼šä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨</li>
</ol>
<h2 id="20-Vue-ä¸­çš„è¿‡æ»¤å™¨äº†è§£å—ï¼Ÿè¿‡æ»¤å™¨çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><a href="#20-Vue-ä¸­çš„è¿‡æ»¤å™¨äº†è§£å—ï¼Ÿè¿‡æ»¤å™¨çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="20. Vue ä¸­çš„è¿‡æ»¤å™¨äº†è§£å—ï¼Ÿè¿‡æ»¤å™¨çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"></a>20. Vue ä¸­çš„è¿‡æ»¤å™¨äº†è§£å—ï¼Ÿè¿‡æ»¤å™¨çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h2><blockquote>
<p>Vue3 ä¸­å·²åºŸå¼ƒ filter<br>vue ä¸­çš„è¿‡æ»¤å™¨å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼šåŒèŠ±æ‹¬å·æ’å€¼å’Œ v-bind è¡¨è¾¾å¼</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- åœ¨åŒèŠ±æ‹¬å·ä¸­ --&gt;</span><br>&#123;&#123; message | capitalize &#125;&#125;<br><br><span class="hljs-comment">&lt;!-- åœ¨ `v-bind` ä¸­ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:id</span>=<span class="hljs-string">&quot;rawId | formatId&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><blockquote>
<p>åœ¨ç»„ä»¶çš„é€‰é¡¹ä¸­å®šä¹‰æœ¬åœ°çš„è¿‡æ»¤å™¨</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">filters</span>: &#123;<br>  <span class="hljs-attr">capitalize</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (!value) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span><br>    value = value.<span class="hljs-title function_">toString</span>()<br>    <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toUpperCase</span>() + value.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>å®šä¹‰å…¨å±€è¿‡æ»¤å™¨ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-string">&#x27;capitalize&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>  <span class="hljs-keyword">if</span> (!value) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span><br>  value = value.<span class="hljs-title function_">toString</span>()<br>  <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toUpperCase</span>() + value.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>)<br>&#125;)<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;)<br></code></pre></td></tr></table></figure>

<h2 id="21-ä»€ä¹ˆæ˜¯è™šæ‹Ÿ-DOMï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªè™šæ‹Ÿ-DOMï¼Ÿè¯´è¯´ä½ çš„æ€è·¯"><a href="#21-ä»€ä¹ˆæ˜¯è™šæ‹Ÿ-DOMï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªè™šæ‹Ÿ-DOMï¼Ÿè¯´è¯´ä½ çš„æ€è·¯" class="headerlink" title="21. ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOMï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªè™šæ‹Ÿ DOMï¼Ÿè¯´è¯´ä½ çš„æ€è·¯"></a>21. ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOMï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªè™šæ‹Ÿ DOMï¼Ÿè¯´è¯´ä½ çš„æ€è·¯</h2><blockquote>
<p>å®é™…ä¸Šå®ƒåªæ˜¯ä¸€å±‚å¯¹<code>çœŸå®DOMçš„æŠ½è±¡</code>ï¼Œä»¥ JavaScript å¯¹è±¡ (VNode èŠ‚ç‚¹) ä½œä¸ºåŸºç¡€çš„æ ‘ï¼Œç”¨<code>å¯¹è±¡çš„å±æ€§</code>æ¥æè¿°èŠ‚ç‚¹ï¼Œæœ€ç»ˆå¯ä»¥é€šè¿‡ä¸€ç³»åˆ—æ“ä½œä½¿è¿™æ£µæ ‘æ˜ å°„åˆ°çœŸå®ç¯å¢ƒä¸Š</p>
</blockquote>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ-DOM"><a href="#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ-DOM" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ DOM"></a>ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ DOM</h3><blockquote>
<p>é€šè¿‡ VNodeï¼Œvue å¯ä»¥å¯¹è¿™é¢—æŠ½è±¡æ ‘è¿›è¡Œåˆ›å»ºèŠ‚ç‚¹,åˆ é™¤èŠ‚ç‚¹ä»¥åŠä¿®æ”¹èŠ‚ç‚¹çš„æ“ä½œï¼Œ ç»è¿‡ diff ç®—æ³•å¾—å‡ºä¸€äº›éœ€è¦ä¿®æ”¹çš„æœ€å°å•ä½,å†æ›´æ–°è§†å›¾ï¼Œå‡å°‘äº† dom æ“ä½œï¼Œæé«˜äº†æ€§èƒ½</p>
</blockquote>
<h3 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h3><ol>
<li>vue æ˜¯é€šè¿‡ createElement ç”Ÿæˆ VNode<blockquote>
<p>_createElement æ¥æ”¶ 5 ä¸ªå‚æ•°ï¼š</p>
</blockquote>
<ol>
<li>context è¡¨ç¤º VNode çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæ˜¯ Component ç±»å‹</li>
<li>tag è¡¨ç¤ºæ ‡ç­¾ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª Component</li>
<li>data è¡¨ç¤º VNode çš„æ•°æ®ï¼Œå®ƒæ˜¯ä¸€ä¸ª VNodeData ç±»å‹</li>
<li>children è¡¨ç¤ºå½“å‰ VNode çš„å­èŠ‚ç‚¹ï¼Œå®ƒæ˜¯ä»»æ„ç±»å‹çš„</li>
<li>normalizationType è¡¨ç¤ºå­èŠ‚ç‚¹è§„èŒƒçš„ç±»å‹ï¼Œç±»å‹ä¸åŒè§„èŒƒçš„æ–¹æ³•ä¹Ÿå°±ä¸ä¸€æ ·ï¼Œä¸»è¦æ˜¯å‚è€ƒ render å‡½æ•°æ˜¯ç¼–è¯‘ç”Ÿæˆçš„è¿˜æ˜¯ç”¨æˆ·æ‰‹å†™çš„</li>
</ol>
</li>
</ol>
<p>createElement åˆ›å»º VNode çš„è¿‡ç¨‹ï¼Œæ¯ä¸ª VNode æœ‰ childrenï¼Œchildren æ¯ä¸ªå…ƒç´ ä¹Ÿæ˜¯ä¸€ä¸ª VNodeï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªè™šæ‹Ÿæ ‘ç»“æ„ï¼Œç”¨äºæè¿°çœŸå®çš„ DOM æ ‘ç»“æ„</p>
<h2 id="22-ä½ äº†è§£-vue-çš„-diff-ç®—æ³•å—ï¼Ÿè¯´è¯´çœ‹"><a href="#22-ä½ äº†è§£-vue-çš„-diff-ç®—æ³•å—ï¼Ÿè¯´è¯´çœ‹" class="headerlink" title="22. ä½ äº†è§£ vue çš„ diff ç®—æ³•å—ï¼Ÿè¯´è¯´çœ‹"></a>22. ä½ äº†è§£ vue çš„ diff ç®—æ³•å—ï¼Ÿè¯´è¯´çœ‹</h2><blockquote>
<p>diff ç®—æ³•æ˜¯ä¸€ç§é€šè¿‡åŒå±‚çš„æ ‘èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒçš„é«˜æ•ˆç®—æ³•</p>
</blockquote>
<h3 id="å…¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š"><a href="#å…¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š" class="headerlink" title="å…¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š"></a>å…¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š</h3><ol>
<li>æ¯”è¾ƒåªä¼šåœ¨åŒå±‚çº§è¿›è¡Œ, ä¸ä¼šè·¨å±‚çº§æ¯”è¾ƒ</li>
<li>åœ¨ diff æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œå¾ªç¯ä»ä¸¤è¾¹å‘ä¸­é—´æ¯”è¾ƒ</li>
</ol>
<h3 id="åŸç†ï¼š"><a href="#åŸç†ï¼š" class="headerlink" title="åŸç†ï¼š"></a>åŸç†ï¼š</h3><blockquote>
<p>å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œset æ–¹æ³•ä¼šè°ƒç”¨ Dep.notify é€šçŸ¥æ‰€æœ‰è®¢é˜…è€… Watcherï¼Œè®¢é˜…è€…å°±ä¼šè°ƒç”¨ patch ç»™çœŸå®çš„ DOM æ‰“è¡¥ä¸ï¼Œæ›´æ–°ç›¸åº”çš„è§†å›¾</p>
</blockquote>
<ol>
<li><p>patch å‡½æ•°å‰ä¸¤ä¸ªå‚æ•°ä½ä¸º oldVnode å’Œ Vnode ï¼Œåˆ†åˆ«ä»£è¡¨æ–°çš„èŠ‚ç‚¹å’Œä¹‹å‰çš„æ—§èŠ‚ç‚¹ï¼Œä¸»è¦åšäº†å››ä¸ªåˆ¤æ–­ï¼š</p>
<ol>
<li>æ²¡æœ‰æ–°èŠ‚ç‚¹ï¼Œç›´æ¥è§¦å‘æ—§èŠ‚ç‚¹çš„ destory é’©å­</li>
<li>æ²¡æœ‰æ—§èŠ‚ç‚¹ï¼Œè¯´æ˜æ˜¯é¡µé¢åˆšå¼€å§‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ­¤æ—¶ï¼Œæ ¹æœ¬ä¸éœ€è¦æ¯”è¾ƒäº†ï¼Œç›´æ¥å…¨æ˜¯æ–°å»ºï¼Œæ‰€ä»¥åªè°ƒç”¨ createElm</li>
<li>æ—§èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹è‡ªèº«ä¸€æ ·ï¼Œé€šè¿‡ sameVnode åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦ä¸€æ ·ï¼Œä¸€æ ·æ—¶ï¼Œç›´æ¥è°ƒç”¨ patchVnode å»å¤„ç†è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ä¸å®Œå…¨ä¸€è‡´ï¼Œåˆ™è°ƒç”¨ updateChildren</li>
<li>æ—§èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹è‡ªèº«ä¸ä¸€æ ·ï¼Œå½“ä¸¤ä¸ªèŠ‚ç‚¹ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œç›´æ¥åˆ›å»ºæ–°èŠ‚ç‚¹ï¼Œåˆ é™¤æ—§èŠ‚ç‚¹</li>
</ol>
</li>
<li><p>patchVnode ä¸»è¦åšäº†å‡ ä¸ªåˆ¤æ–­ï¼š</p>
<ol>
<li>æ–°èŠ‚ç‚¹æ˜¯å¦æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥æ›´æ–° dom çš„æ–‡æœ¬å†…å®¹ä¸ºæ–°èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹<br>æ–°èŠ‚ç‚¹å’Œæ—§èŠ‚ç‚¹å¦‚æœéƒ½æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™å¤„ç†æ¯”è¾ƒæ›´æ–°å­èŠ‚ç‚¹</li>
<li>åªæœ‰æ–°èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹ï¼Œæ—§èŠ‚ç‚¹æ²¡æœ‰ï¼Œé‚£ä¹ˆä¸ç”¨æ¯”è¾ƒäº†ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯å…¨æ–°çš„ï¼Œæ‰€ä»¥ç›´æ¥å…¨éƒ¨æ–°å»ºå°±å¥½äº†ï¼Œæ–°å»ºæ˜¯æŒ‡åˆ›å»ºå‡ºæ‰€æœ‰æ–° DOMï¼Œå¹¶ä¸”æ·»åŠ è¿›çˆ¶èŠ‚ç‚¹</li>
<li>åªæœ‰æ—§èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹è€Œæ–°èŠ‚ç‚¹æ²¡æœ‰ï¼Œè¯´æ˜æ›´æ–°åçš„é¡µé¢ï¼Œæ—§èŠ‚ç‚¹å…¨éƒ¨éƒ½ä¸è§äº†ï¼Œé‚£ä¹ˆè¦åšçš„ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰çš„æ—§èŠ‚ç‚¹åˆ é™¤ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æŠŠ DOM åˆ é™¤</li>
</ol>
</li>
<li><p>å­èŠ‚ç‚¹ä¸å®Œå…¨ä¸€è‡´ï¼Œåˆ™è°ƒç”¨ updateChildren</p>
<ol>
<li>å½“æ–°è€ VNode èŠ‚ç‚¹çš„ start ç›¸åŒæ—¶ï¼Œç›´æ¥ patchVnode ï¼ŒåŒæ—¶æ–°è€ VNode èŠ‚ç‚¹çš„å¼€å§‹ç´¢å¼•éƒ½åŠ  1</li>
<li>å½“æ–°è€ VNode èŠ‚ç‚¹çš„ end ç›¸åŒæ—¶ï¼ŒåŒæ ·ç›´æ¥ patchVnode ï¼ŒåŒæ—¶æ–°è€ VNode èŠ‚ç‚¹çš„ç»“æŸç´¢å¼•éƒ½å‡ 1</li>
<li>å½“è€ VNode èŠ‚ç‚¹çš„ start å’Œæ–° VNode èŠ‚ç‚¹çš„ end ç›¸åŒæ—¶ï¼Œè¿™æ—¶å€™åœ¨ patchVnode åï¼Œè¿˜éœ€è¦å°†å½“å‰çœŸå® dom èŠ‚ç‚¹ç§»åŠ¨åˆ° oldEndVnode çš„åé¢ï¼ŒåŒæ—¶è€ VNode èŠ‚ç‚¹å¼€å§‹ç´¢å¼•åŠ  1ï¼Œæ–° VNode èŠ‚ç‚¹çš„ç»“æŸç´¢å¼•å‡ 1</li>
<li>å½“è€ VNode èŠ‚ç‚¹çš„ end å’Œæ–° VNode èŠ‚ç‚¹çš„ start ç›¸åŒæ—¶ï¼Œè¿™æ—¶å€™åœ¨ patchVnode åï¼Œè¿˜éœ€è¦å°†å½“å‰çœŸå® dom èŠ‚ç‚¹ç§»åŠ¨åˆ° oldStartVnode çš„å‰é¢ï¼ŒåŒæ—¶è€ VNode èŠ‚ç‚¹ç»“æŸç´¢å¼•å‡ 1ï¼Œæ–° VNode èŠ‚ç‚¹çš„å¼€å§‹ç´¢å¼•åŠ  1</li>
<li>å¦‚æœéƒ½ä¸æ»¡è¶³ä»¥ä¸Šå››ç§æƒ…å½¢ï¼Œé‚£è¯´æ˜æ²¡æœ‰ç›¸åŒçš„èŠ‚ç‚¹å¯ä»¥å¤ç”¨ï¼Œåˆ™ä¼šåˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š<br>ä»æ—§çš„ VNode ä¸º key å€¼ï¼Œå¯¹åº” index åºåˆ—ä¸º value å€¼çš„å“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°ä¸ newStartVnode ä¸€è‡´ key çš„æ—§çš„ VNode èŠ‚ç‚¹ï¼Œå†è¿›è¡Œ patchVnodeï¼ŒåŒæ—¶å°†è¿™ä¸ªçœŸå® dom ç§»åŠ¨åˆ° oldStartVnode å¯¹åº”çš„çœŸå® dom çš„å‰é¢<br>è°ƒç”¨ createElm åˆ›å»ºä¸€ä¸ªæ–°çš„ dom èŠ‚ç‚¹æ”¾åˆ°å½“å‰ newStartIdx çš„ä½ç½®</li>
</ol>
</li>
</ol>
<h2 id="23-Vue-é¡¹ç›®ä¸­æœ‰å°è£…è¿‡-axios-å—ï¼Ÿä¸»è¦æ˜¯å°è£…å“ªæ–¹é¢çš„ï¼Ÿ"><a href="#23-Vue-é¡¹ç›®ä¸­æœ‰å°è£…è¿‡-axios-å—ï¼Ÿä¸»è¦æ˜¯å°è£…å“ªæ–¹é¢çš„ï¼Ÿ" class="headerlink" title="23. Vue é¡¹ç›®ä¸­æœ‰å°è£…è¿‡ axios å—ï¼Ÿä¸»è¦æ˜¯å°è£…å“ªæ–¹é¢çš„ï¼Ÿ"></a>23. Vue é¡¹ç›®ä¸­æœ‰å°è£…è¿‡ axios å—ï¼Ÿä¸»è¦æ˜¯å°è£…å“ªæ–¹é¢çš„ï¼Ÿ</h2><blockquote>
<p>Axios æ˜¯ä¸€ä¸ªåŸºäº Promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨äºæµè§ˆå™¨å’Œ Node.js ç¯å¢ƒä¸­å‘é€ HTTP è¯·æ±‚ã€‚</p>
</blockquote>
<h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ol>
<li>æ”¯æŒ Promise APIï¼Œå¯ä»¥è½»æ˜“åœ°æ‰§è¡Œæ‰€æœ‰ç±»ä¼¼äº then() ä»¥åŠ catch() æ–¹æ³•çš„å¼‚æ­¥æ“ä½œï¼›</li>
<li>å…·æœ‰å¯å–æ¶ˆçš„è¯·æ±‚åŠŸèƒ½ï¼›</li>
<li>å¯ä»¥æ‹¦æˆªè¯·æ±‚å’Œå“åº”ï¼›</li>
<li>æ”¯æŒæµè§ˆå™¨å’Œ Node.jsã€‚</li>
<li>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®ã€CSRF ä¿æŠ¤ç­‰åŠŸèƒ½ã€‚</li>
</ol>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¼•å…¥ Axios</span><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br><br><span class="hljs-comment">// å‘é€ GET è¯·æ±‚</span><br>axios<br>  .<span class="hljs-title function_">get</span>(<br>    <span class="hljs-string">&#x27;https://jsonplaceholder.typicode.com/posts&#x27;</span>,<br>    &#123;<br>      <span class="hljs-attr">params</span>: &#123;<br>        <span class="hljs-attr">_limit</span>: <span class="hljs-number">5</span>,<br>      &#125;,<br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">headers</span>: &#123;<br>        <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span>,<br>      &#125;,<br>    &#125;<br>  )<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>)<br>  &#125;)<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Error fetching data:&#x27;</span>, error)<br>  &#125;)<br><br><span class="hljs-comment">// å‘é€ POST è¯·æ±‚</span><br>axios<br>  .<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;https://jsonplaceholder.typicode.com/posts&#x27;</span>, &#123;<br>    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;foo&#x27;</span>,<br>    <span class="hljs-attr">body</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>    <span class="hljs-attr">userId</span>: <span class="hljs-number">1</span>,<br>  &#125;)<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>)<br>  &#125;)<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Error posting data:&#x27;</span>, error)<br>  &#125;)<br><span class="hljs-comment">// PUT\DELETE è¯·æ±‚åŒç†</span><br></code></pre></td></tr></table></figure>

<h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><ol>
<li>å°è£… axios å®ä¾‹</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// axiosInstance.js</span><br><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br><br><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª Axios å®ä¾‹</span><br><span class="hljs-keyword">const</span> axiosInstance = axios.<span class="hljs-title function_">create</span>(&#123;<br>  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">&#x27;https://jsonplaceholder.typicode.com&#x27;</span>, <span class="hljs-comment">// è®¾ç½®åŸºç¡€ URL</span><br>  <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>, <span class="hljs-comment">// è®¾ç½®è¶…æ—¶æ—¶é—´</span><br>  <span class="hljs-attr">headers</span>: &#123;<br>    <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span>, <span class="hljs-comment">// è®¾ç½®è¯·æ±‚å¤´</span><br>  &#125;,<br>&#125;)<br><br><span class="hljs-comment">// è¯·æ±‚æ‹¦æˆªå™¨</span><br>axiosInstance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<br>  <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// åœ¨è¯·æ±‚å‘é€ä¹‹å‰åšä¸€äº›å¤„ç†ï¼Œæ¯”å¦‚æ·»åŠ  token ç­‰</span><br>    <span class="hljs-keyword">return</span> config<br>  &#125;,<br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)<br>  &#125;<br>)<br><br><span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨</span><br>axiosInstance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(<br>  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// å¯¹å“åº”æ•°æ®åšäº›ä»€ä¹ˆ</span><br>    <span class="hljs-keyword">return</span> response<br>  &#125;,<br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// å¯¹å“åº”é”™è¯¯åšäº›ä»€ä¹ˆ</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)<br>  &#125;<br>)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> axiosInstance<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>äºŒæ¬¡å°è£…</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// api.js</span><br><br><span class="hljs-keyword">import</span> axiosInstance <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./axiosInstance&#x27;</span><br><br><span class="hljs-comment">// å°è£… GET è¯·æ±‚</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getPosts</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> axiosInstance.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/posts&#x27;</span>)<br>&#125;<br><br><span class="hljs-comment">// å°è£… POST è¯·æ±‚</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">createPost</span> = (<span class="hljs-params">postData</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> axiosInstance.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/posts&#x27;</span>, postData)<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">createDelete</span> = (<span class="hljs-params">ids</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">axiosInstance</span>(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/member/cart&#x27;</span>,<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;DELETE&#x27;</span>,<br>    <span class="hljs-attr">data</span>: &#123;<br>      ids,<br>    &#125;,<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="axios-çš„-åŸç†"><a href="#axios-çš„-åŸç†" class="headerlink" title="axios çš„(åŸç†)"></a>axios çš„(åŸç†)</h3><blockquote>
<p>Axios çš„åº•å±‚å®ç°ä½¿ç”¨äº† XMLHttpRequest å¯¹è±¡ï¼Œå®ƒå°†è¯·æ±‚æ•°æ®åŒ…è£…åœ¨ä¸€ä¸ª Promise ä¸­ï¼Œå¹¶å‘é€ç½‘ç»œè¯·æ±‚ã€‚Axios è¿˜æä¾›äº†ä¸€ä¸ªæ‹¦æˆªå™¨ï¼ˆinterceptorï¼‰ï¼Œå…è®¸åœ¨è¯·æ±‚æˆ–å“åº”è¢«å¤„ç†å‰ã€æˆ–è€…å“åº”è¢« reject å‰æˆªè·å®ƒä»¬ã€‚</p>
</blockquote>
<h4 id="Axios-ä¸»è¦ä½¿ç”¨äº†ä»¥ä¸‹æŠ€æœ¯æ¥å®ç°ï¼š"><a href="#Axios-ä¸»è¦ä½¿ç”¨äº†ä»¥ä¸‹æŠ€æœ¯æ¥å®ç°ï¼š" class="headerlink" title="Axios ä¸»è¦ä½¿ç”¨äº†ä»¥ä¸‹æŠ€æœ¯æ¥å®ç°ï¼š"></a>Axios ä¸»è¦ä½¿ç”¨äº†ä»¥ä¸‹æŠ€æœ¯æ¥å®ç°ï¼š</h4><ol>
<li>æ„é€  XMLHttpRequest å¯¹è±¡</li>
<li>åºåˆ—åŒ–å‚æ•°</li>
<li>é…ç½®è¯·æ±‚ä¿¡æ¯</li>
<li>ç›‘å¬ xhr çš„å˜åŒ–ï¼ŒåŒ…æ‹¬ XHR è‡ªèº«çŠ¶æ€å˜åŒ–ï¼Œå’Œ http å“åº”çŠ¶æ€å˜åŒ–</li>
<li>å¯¹å“åº”æ•°æ®è¿›è¡Œå¤„ç†å’Œè§£æ</li>
</ol>
<p>Axios å¯¹ XHR è¿›è¡Œäº†ä¸¤å±‚å°è£…ï¼Œç¬¬ä¸€å±‚å°è£…å±è”½äº† XHR å¯¹è±¡å·®å¼‚ï¼Œæä¾›äº†ç»Ÿä¸€çš„ APIï¼›<br><br>ç¬¬äºŒå±‚å°è£…æ˜¯åŸºäº Promise å¯¹è±¡ï¼Œè®© HTTP è¯·æ±‚å¼‚æ­¥æ‰§è¡Œã€‚<br></p>
<h2 id="24-ä½ äº†è§£-axios-çš„åŸç†å—ï¼Ÿæœ‰çœ‹è¿‡å®ƒçš„æºç å—ï¼Ÿ"><a href="#24-ä½ äº†è§£-axios-çš„åŸç†å—ï¼Ÿæœ‰çœ‹è¿‡å®ƒçš„æºç å—ï¼Ÿ" class="headerlink" title="24. ä½ äº†è§£ axios çš„åŸç†å—ï¼Ÿæœ‰çœ‹è¿‡å®ƒçš„æºç å—ï¼Ÿ(*)"></a>24. ä½ äº†è§£ axios çš„åŸç†å—ï¼Ÿæœ‰çœ‹è¿‡å®ƒçš„æºç å—ï¼Ÿ(*)</h2><h2 id="25-SSR-è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿæœ‰åšè¿‡-SSR-å—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ"><a href="#25-SSR-è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿæœ‰åšè¿‡-SSR-å—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ" class="headerlink" title="25. SSR è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿæœ‰åšè¿‡ SSR å—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ(*)"></a>25. SSR è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿæœ‰åšè¿‡ SSR å—ï¼Ÿä½ æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ(*)</h2><blockquote>
<p>Server-Side Rendering æˆ‘ä»¬ç§°å…¶ä¸º SSRï¼Œæ„ä¸ºæœåŠ¡ç«¯æ¸²æŸ“<br>æŒ‡ç”±æœåŠ¡ä¾§å®Œæˆé¡µé¢çš„ HTML ç»“æ„æ‹¼æ¥çš„é¡µé¢å¤„ç†æŠ€æœ¯ï¼Œå‘é€åˆ°æµè§ˆå™¨ï¼Œç„¶åä¸ºå…¶ç»‘å®šçŠ¶æ€ä¸äº‹ä»¶ï¼Œæˆä¸ºå®Œå…¨å¯äº¤äº’é¡µé¢çš„è¿‡ç¨‹</p>
</blockquote>
<h3 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h3><ol>
<li><p>SSR ä¸»è¦è§£å†³äº†ä»¥ä¸‹ä¸¤ç§é—®é¢˜ï¼š</p>
<ul>
<li>seoï¼šæœç´¢å¼•æ“ä¼˜å…ˆçˆ¬å–é¡µé¢ HTML ç»“æ„ï¼Œä½¿ç”¨ ssr æ—¶ï¼ŒæœåŠ¡ç«¯å·²ç»ç”Ÿæˆäº†å’Œä¸šåŠ¡æƒ³å…³è”çš„ HTMLï¼Œæœ‰åˆ©äº seo</li>
<li>é¦–å±å‘ˆç°æ¸²æŸ“ï¼šç”¨æˆ·æ— éœ€ç­‰å¾…é¡µé¢æ‰€æœ‰ js åŠ è½½å®Œæˆå°±å¯ä»¥çœ‹åˆ°é¡µé¢è§†å›¾ï¼ˆå‹åŠ›æ¥åˆ°äº†æœåŠ¡å™¨ï¼Œæ‰€ä»¥éœ€è¦æƒè¡¡å“ªäº›ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå“ªäº›äº¤ç»™å®¢æˆ·ç«¯ï¼‰</li>
</ul>
</li>
<li><p>ä½†æ˜¯ä½¿ç”¨ SSR åŒæ ·å­˜åœ¨ä»¥ä¸‹çš„ç¼ºç‚¹ï¼š</p>
<ul>
<li>å¤æ‚åº¦ï¼šæ•´ä¸ªé¡¹ç›®çš„å¤æ‚åº¦</li>
<li>åº“çš„æ”¯æŒæ€§ï¼Œä»£ç å…¼å®¹</li>
<li>æ€§èƒ½é—®é¢˜<br>æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ n ä¸ªå®ä¾‹çš„åˆ›å»ºï¼Œä¸ç„¶ä¼šæ±¡æŸ“ï¼Œæ¶ˆè€—ä¼šå˜å¾—å¾ˆå¤§<br>ç¼“å­˜ node serveã€ nginx åˆ¤æ–­å½“å‰ç”¨æˆ·æœ‰æ²¡æœ‰è¿‡æœŸï¼Œå¦‚æœæ²¡è¿‡æœŸçš„è¯å°±ç¼“å­˜ï¼Œç”¨åˆšåˆšçš„ç»“æœã€‚</li>
<li>é™çº§ï¼šç›‘æ§ cpuã€å†…å­˜å ç”¨è¿‡å¤šï¼Œå°± spaï¼Œè¿”å›å•ä¸ªçš„å£³ -æœåŠ¡å™¨è´Ÿè½½å˜å¤§ï¼Œç›¸å¯¹äºå‰åç«¯åˆ†ç¦»æœåŠ¡å™¨åªéœ€è¦æä¾›é™æ€èµ„æºæ¥è¯´ï¼ŒæœåŠ¡å™¨è´Ÿè½½æ›´å¤§ï¼Œæ‰€ä»¥è¦æ…é‡ä½¿ç”¨</li>
</ul>
</li>
</ol>
<h3 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h3><h2 id="26-è¯´ä¸‹ä½ çš„-vue-é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¦‚æœæ˜¯å¤§å‹é¡¹ç›®ä½ è¯¥æ€ä¹ˆåˆ’åˆ†ç»“æ„å’Œåˆ’åˆ†ç»„ä»¶å‘¢ï¼Ÿ"><a href="#26-è¯´ä¸‹ä½ çš„-vue-é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¦‚æœæ˜¯å¤§å‹é¡¹ç›®ä½ è¯¥æ€ä¹ˆåˆ’åˆ†ç»“æ„å’Œåˆ’åˆ†ç»„ä»¶å‘¢ï¼Ÿ" class="headerlink" title="26. è¯´ä¸‹ä½ çš„ vue é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¦‚æœæ˜¯å¤§å‹é¡¹ç›®ä½ è¯¥æ€ä¹ˆåˆ’åˆ†ç»“æ„å’Œåˆ’åˆ†ç»„ä»¶å‘¢ï¼Ÿ"></a>26. è¯´ä¸‹ä½ çš„ vue é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œå¦‚æœæ˜¯å¤§å‹é¡¹ç›®ä½ è¯¥æ€ä¹ˆåˆ’åˆ†ç»“æ„å’Œåˆ’åˆ†ç»„ä»¶å‘¢ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs js">project<br>|-- dist<br>|-- node_modules<br>|-- public<br>â”‚      favicon.<span class="hljs-property">ico</span><br>â”‚      index.<span class="hljs-property">html</span><br>|-- src<br>   |-- assets<br>      |-- images<br>      |-- styles<br>   |-- api<br>      |-- index.<span class="hljs-property">js</span><br>   |-- components<br>      |-- input<br>         |-- index.<span class="hljs-property">js</span><br>         |-- index.<span class="hljs-property">module</span>.<span class="hljs-property">scss</span><br>   |-- config<br>      |-- index.<span class="hljs-property">js</span><br>   |-- constants<br>      |-- index.<span class="hljs-property">js</span><br>   |-- router<br>      |-- index.<span class="hljs-property">js</span><br>   |-- store<br>      |-- index.<span class="hljs-property">js</span><br>   |-- utils<br>      |-- index.<span class="hljs-property">js</span><br>   |-- views<br>      |-- home<br>         |-- index.<span class="hljs-property">vue</span><br>   |  <span class="hljs-title class_">App</span>.<span class="hljs-property">vue</span><br>   |  main.<span class="hljs-property">js</span><br>|-- tests<br>|-- types<br>|  .<span class="hljs-property">browserslistrc</span><br>â”‚  .<span class="hljs-property">env</span>.<span class="hljs-property">production</span><br>â”‚  .<span class="hljs-property">eslintrc</span>.<span class="hljs-property">js</span><br>â”‚  .<span class="hljs-property">gitignore</span><br>â”‚  package-lock.<span class="hljs-property">json</span><br>â”‚  package.<span class="hljs-property">json</span><br>â”‚  <span class="hljs-variable constant_">README</span>.<span class="hljs-property">md</span><br>â”‚  vue.<span class="hljs-property">config</span>.<span class="hljs-property">js</span><br></code></pre></td></tr></table></figure>

<h2 id="27-vue-è¦åšæƒé™ç®¡ç†è¯¥æ€ä¹ˆåšï¼Ÿå¦‚æœæ§åˆ¶åˆ°æŒ‰é’®çº§åˆ«çš„æƒé™æ€ä¹ˆåšï¼Ÿ"><a href="#27-vue-è¦åšæƒé™ç®¡ç†è¯¥æ€ä¹ˆåšï¼Ÿå¦‚æœæ§åˆ¶åˆ°æŒ‰é’®çº§åˆ«çš„æƒé™æ€ä¹ˆåšï¼Ÿ" class="headerlink" title="27. vue è¦åšæƒé™ç®¡ç†è¯¥æ€ä¹ˆåšï¼Ÿå¦‚æœæ§åˆ¶åˆ°æŒ‰é’®çº§åˆ«çš„æƒé™æ€ä¹ˆåšï¼Ÿ"></a>27. vue è¦åšæƒé™ç®¡ç†è¯¥æ€ä¹ˆåšï¼Ÿå¦‚æœæ§åˆ¶åˆ°æŒ‰é’®çº§åˆ«çš„æƒé™æ€ä¹ˆåšï¼Ÿ</h2><blockquote>
<p>å‰ç«¯æƒé™æ§åˆ¶å¯ä»¥åˆ†ä¸ºå››ä¸ªæ–¹é¢ï¼š</p>
</blockquote>
<ul>
<li>æ¥å£æƒé™</li>
<li>æŒ‰é’®æƒé™</li>
<li>èœå•æƒé™</li>
<li>è·¯ç”±æƒé™</li>
</ul>
<h3 id="æ¥å£æƒé™"><a href="#æ¥å£æƒé™" class="headerlink" title="æ¥å£æƒé™"></a>æ¥å£æƒé™</h3><blockquote>
<p>æ¥å£æƒé™ç›®å‰ä¸€èˆ¬é‡‡ç”¨ jwt çš„å½¢å¼æ¥éªŒè¯ï¼Œæ²¡æœ‰é€šè¿‡çš„è¯ä¸€èˆ¬è¿”å› 401ï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢é‡æ–°è¿›è¡Œç™»å½•<br>ç™»å½•å®Œæ‹¿åˆ° tokenï¼Œå°† token å­˜èµ·æ¥ï¼Œé€šè¿‡ axios è¯·æ±‚æ‹¦æˆªå™¨è¿›è¡Œæ‹¦æˆªï¼Œæ¯æ¬¡è¯·æ±‚çš„æ—¶å€™å¤´éƒ¨æºå¸¦ token</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">axios.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> &#123;<br>    config.<span class="hljs-property">headers</span>[<span class="hljs-string">&#x27;token&#x27;</span>] = cookie.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;token&#x27;</span>)<br>    <span class="hljs-keyword">return</span> config<br>&#125;)<br>axios.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function"><span class="hljs-params">res</span>=&gt;</span>&#123;&#125;,&#123;response&#125;=&gt;&#123;<br>    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">data</span>.<span class="hljs-property">code</span> === <span class="hljs-number">40099</span> || response.<span class="hljs-property">data</span>.<span class="hljs-property">code</span> === <span class="hljs-number">40098</span>) &#123; <span class="hljs-comment">//tokenè¿‡æœŸæˆ–è€…é”™è¯¯</span><br>        router.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;/login&#x27;</span>)<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="è·¯ç”±æƒé™"><a href="#è·¯ç”±æƒé™" class="headerlink" title="è·¯ç”±æƒé™"></a>è·¯ç”±æƒé™</h3><ol>
<li>åˆå§‹åŒ–å³æŒ‚è½½å…¨éƒ¨è·¯ç”±ï¼Œå¹¶ä¸”åœ¨è·¯ç”±ä¸Šæ ‡è®°ç›¸åº”çš„æƒé™ä¿¡æ¯ï¼Œæ¯æ¬¡è·¯ç”±è·³è½¬å‰åšæ ¡éªŒ</li>
<li>åˆå§‹åŒ–çš„æ—¶å€™å…ˆæŒ‚è½½ä¸éœ€è¦æƒé™æ§åˆ¶çš„è·¯ç”±ï¼Œæ¯”å¦‚ç™»å½•é¡µï¼Œ404 ç­‰é”™è¯¯é¡µã€‚å¦‚æœç”¨æˆ·é€šè¿‡ URL è¿›è¡Œå¼ºåˆ¶è®¿é—®ï¼Œåˆ™ä¼šç›´æ¥è¿›å…¥ 404ï¼Œç›¸å½“äºä»æºå¤´ä¸Šåšäº†æ§åˆ¶<br><br>ç™»å½•åï¼Œè·å–ç”¨æˆ·çš„æƒé™ä¿¡æ¯ï¼Œç„¶åç­›é€‰æœ‰æƒé™è®¿é—®çš„è·¯ç”±ï¼Œåœ¨å…¨å±€è·¯ç”±å®ˆå«é‡Œè¿›è¡Œè°ƒç”¨ addRoutes æ·»åŠ è·¯ç”±</li>
</ol>
<h3 id="èœå•æƒé™"><a href="#èœå•æƒé™" class="headerlink" title="èœå•æƒé™"></a>èœå•æƒé™</h3><ol>
<li>èœå•ä¸è·¯ç”±åˆ†ç¦»ï¼Œèœå•ç”±åç«¯è¿”å›,å…¨å±€è·¯ç”±å®ˆå«é‡Œåšåˆ¤æ–­</li>
<li>èœå•å’Œè·¯ç”±éƒ½ç”±åç«¯è¿”å›</li>
</ol>
<h3 id="æŒ‰é’®æƒé™"><a href="#æŒ‰é’®æƒé™" class="headerlink" title="æŒ‰é’®æƒé™"></a>æŒ‰é’®æƒé™</h3><ol>
<li>æŒ‰é’®æƒé™ä¹Ÿå¯ä»¥ç”¨ v-if åˆ¤æ–­</li>
<li>é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤è¿›è¡ŒæŒ‰é’®æƒé™çš„åˆ¤æ–­</li>
</ol>
<h2 id="28-Vue-é¡¹ç›®ä¸­ä½ æ˜¯å¦‚ä½•è§£å†³è·¨åŸŸçš„å‘¢ï¼Ÿ"><a href="#28-Vue-é¡¹ç›®ä¸­ä½ æ˜¯å¦‚ä½•è§£å†³è·¨åŸŸçš„å‘¢ï¼Ÿ" class="headerlink" title="28. Vue é¡¹ç›®ä¸­ä½ æ˜¯å¦‚ä½•è§£å†³è·¨åŸŸçš„å‘¢ï¼Ÿ"></a>28. Vue é¡¹ç›®ä¸­ä½ æ˜¯å¦‚ä½•è§£å†³è·¨åŸŸçš„å‘¢ï¼Ÿ</h2><h3 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h3><blockquote>
<p>åŒæºç­–ç•¥æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œå®ƒç”¨äºé™åˆ¶ä¸€ä¸ªæºçš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬å¦‚ä½•èƒ½ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’<br>å¦‚æœä¸¤ä¸ª URL çš„åè®®ã€ç«¯å£ï¼ˆå¦‚æœæœ‰æŒ‡å®šçš„è¯ï¼‰å’Œä¸»æœºéƒ½ç›¸åŒçš„è¯ï¼Œåˆ™è¿™ä¸¤ä¸ª URL æ˜¯åŒæºçš„</p>
</blockquote>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs http">http://store.company.com/dir2/other.html<br>åè®®ï¼šhttp<br>ä¸»æœºï¼šstore.company.com<br>ç«¯å£ï¼š80<br></code></pre></td></tr></table></figure>

<blockquote>
<p>è§£å†³è·¨åŸŸçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä¸‹é¢åˆ—ä¸¾äº†ä¸‰ç§ï¼š</p>
</blockquote>
<ol>
<li>JSONP</li>
<li>CORS</li>
<li>Proxy</li>
</ol>
<h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><blockquote>
<p>å®ƒç”±ä¸€ç³»åˆ—ä¼ è¾“çš„ HTTP å¤´ç»„æˆï¼Œè¿™äº› HTTP å¤´å†³å®šæµè§ˆå™¨æ˜¯å¦é˜»æ­¢å‰ç«¯ JavaScript ä»£ç è·å–è·¨åŸŸè¯·æ±‚çš„å“åº”<br><br>CORS å®ç°èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦å¢åŠ ä¸€äº› HTTP å¤´ï¼Œè®©æœåŠ¡å™¨èƒ½å£°æ˜å…è®¸çš„è®¿é—®æ¥æºåªè¦åç«¯å®ç°äº† CORSï¼Œå°±å®ç°äº†è·¨åŸŸ</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">async</span> (ctx, next) =&gt; &#123;<br>  ctx.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>)<br>  ctx.<span class="hljs-title function_">set</span>(<br>    <span class="hljs-string">&#x27;Access-Control-Allow-Headers&#x27;</span>,<br>    <span class="hljs-string">&#x27;Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild&#x27;</span><br>  )<br>  ctx.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="hljs-string">&#x27;PUT, POST, GET, DELETE, OPTIONS&#x27;</span>)<br>  <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">method</span> == <span class="hljs-string">&#x27;OPTIONS&#x27;</span>) &#123;<br>    ctx.<span class="hljs-property">body</span> = <span class="hljs-number">200</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>()<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><blockquote>
<p>ä»£ç†ï¼ˆProxyï¼‰ä¹Ÿç§°ç½‘ç»œä»£ç†ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸ä¸€ä¸ªï¼ˆä¸€èˆ¬ä¸ºå®¢æˆ·ç«¯ï¼‰é€šè¿‡è¿™ä¸ªæœåŠ¡ä¸å¦ä¸€ä¸ªç½‘ç»œç»ˆç«¯ï¼ˆä¸€èˆ¬ä¸ºæœåŠ¡å™¨ï¼‰è¿›è¡Œéç›´æ¥çš„è¿æ¥ã€‚ä¸€äº›ç½‘å…³ã€è·¯ç”±å™¨ç­‰ç½‘ç»œè®¾å¤‡å…·å¤‡ç½‘ç»œä»£ç†åŠŸèƒ½ã€‚ä¸€èˆ¬è®¤ä¸ºä»£ç†æœåŠ¡æœ‰åˆ©äºä¿éšœç½‘ç»œç»ˆç«¯çš„éšç§æˆ–å®‰å…¨ï¼Œé˜²æ­¢æ”»å‡»</p>
</blockquote>
<h2 id="29-vue-é¡¹ç›®æœ¬åœ°å¼€å‘å®Œæˆåéƒ¨ç½²åˆ°æœåŠ¡å™¨åæŠ¥-404-æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ"><a href="#29-vue-é¡¹ç›®æœ¬åœ°å¼€å‘å®Œæˆåéƒ¨ç½²åˆ°æœåŠ¡å™¨åæŠ¥-404-æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ" class="headerlink" title="29. vue é¡¹ç›®æœ¬åœ°å¼€å‘å®Œæˆåéƒ¨ç½²åˆ°æœåŠ¡å™¨åæŠ¥ 404 æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ"></a>29. vue é¡¹ç›®æœ¬åœ°å¼€å‘å®Œæˆåéƒ¨ç½²åˆ°æœåŠ¡å™¨åæŠ¥ 404 æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ</h2><h3 id="ä¸ºä»€ä¹ˆ-history-æ¨¡å¼ä¸‹æœ‰é—®é¢˜"><a href="#ä¸ºä»€ä¹ˆ-history-æ¨¡å¼ä¸‹æœ‰é—®é¢˜" class="headerlink" title="ä¸ºä»€ä¹ˆ history æ¨¡å¼ä¸‹æœ‰é—®é¢˜"></a>ä¸ºä»€ä¹ˆ history æ¨¡å¼ä¸‹æœ‰é—®é¢˜</h3><p>Vue æ˜¯å±äºå•é¡µåº”ç”¨ï¼ˆsingle-page applicationï¼‰</p>
<p>è€Œ SPA æ˜¯ä¸€ç§ç½‘ç»œåº”ç”¨ç¨‹åºæˆ–ç½‘ç«™çš„æ¨¡å‹ï¼Œæ‰€æœ‰ç”¨æˆ·äº¤äº’æ˜¯é€šè¿‡åŠ¨æ€é‡å†™å½“å‰é¡µé¢ï¼Œå‰é¢æˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼Œä¸ç®¡æˆ‘ä»¬åº”ç”¨æœ‰å¤šå°‘é¡µé¢ï¼Œæ„å»ºç‰©éƒ½åªä¼šäº§å‡ºä¸€ä¸ª index.html</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å›å¤´æ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„ nginx é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">server &#123;<br>  listen  <span class="hljs-number">80</span>;<br>  server_name  www.<span class="hljs-property">xxx</span>.<span class="hljs-property">com</span>;<br><br>  location / &#123;<br>    index  /data/dist/index.<span class="hljs-property">html</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥æ ¹æ® nginx é…ç½®å¾—å‡ºï¼Œå½“æˆ‘ä»¬åœ¨åœ°å€æ è¾“å…¥ <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a> æ—¶ï¼Œè¿™æ—¶ä¼šæ‰“å¼€æˆ‘ä»¬ dist ç›®å½•ä¸‹çš„ index.html æ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬åœ¨è·³è½¬è·¯ç”±è¿›å…¥åˆ° <a target="_blank" rel="noopener" href="http://www.xxx.com/login">www.xxx.com/login</a></p>
<p>å…³é”®åœ¨è¿™é‡Œï¼Œå½“æˆ‘ä»¬åœ¨ website.com&#x2F;login é¡µæ‰§è¡Œåˆ·æ–°æ“ä½œï¼Œnginx location æ˜¯æ²¡æœ‰ç›¸å…³é…ç½®çš„ï¼Œæ‰€ä»¥å°±ä¼šå‡ºç° 404 çš„æƒ…å†µ</p>
<h3 id="ä¸ºä»€ä¹ˆ-hash-æ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜"><a href="#ä¸ºä»€ä¹ˆ-hash-æ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜" class="headerlink" title="ä¸ºä»€ä¹ˆ hash æ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜"></a>ä¸ºä»€ä¹ˆ hash æ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜</h3><p>router hash æ¨¡å¼æˆ‘ä»¬éƒ½çŸ¥é“æ˜¯ç”¨ç¬¦å·#è¡¨ç¤ºçš„ï¼Œå¦‚ website.com&#x2F;#&#x2F;login, hash çš„å€¼ä¸º #&#x2F;login</p>
<p>å®ƒçš„ç‰¹ç‚¹åœ¨äºï¼šhash è™½ç„¶å‡ºç°åœ¨ URL ä¸­ï¼Œä½†ä¸ä¼šè¢«åŒ…æ‹¬åœ¨ HTTP è¯·æ±‚ä¸­ï¼Œå¯¹æœåŠ¡ç«¯å®Œå…¨æ²¡æœ‰å½±å“ï¼Œå› æ­¤æ”¹å˜ hash ä¸ä¼šé‡æ–°åŠ è½½é¡µé¢</p>
<p>hash æ¨¡å¼ä¸‹ï¼Œä»… hash ç¬¦å·ä¹‹å‰çš„å†…å®¹ä¼šè¢«åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œå¦‚ website.com&#x2F;#&#x2F;login åªæœ‰ website.com ä¼šè¢«åŒ…å«åœ¨è¯·æ±‚ä¸­ ï¼Œå› æ­¤å¯¹äºæœåŠ¡ç«¯æ¥è¯´ï¼Œå³ä½¿æ²¡æœ‰é…ç½® locationï¼Œä¹Ÿä¸ä¼šè¿”å› 404 é”™è¯¯</p>
<h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>å¯¹ nginx é…ç½®æ–‡ä»¶.conf ä¿®æ”¹ï¼Œæ·»åŠ  try_files $uri $uri&#x2F; &#x2F;index.html;</p>
<p>server {<br>listen 80;<br>server_name <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a>;</p>
<p>location &#x2F; {<br>index &#x2F;data&#x2F;dist&#x2F;index.html;<br>try_files $uri $uri&#x2F; &#x2F;index.html;<br>}<br>}</p>
<h2 id="30-ä½ æ˜¯æ€ä¹ˆå¤„ç†-vue-é¡¹ç›®ä¸­çš„é”™è¯¯çš„ï¼Ÿ"><a href="#30-ä½ æ˜¯æ€ä¹ˆå¤„ç†-vue-é¡¹ç›®ä¸­çš„é”™è¯¯çš„ï¼Ÿ" class="headerlink" title="30. ä½ æ˜¯æ€ä¹ˆå¤„ç† vue é¡¹ç›®ä¸­çš„é”™è¯¯çš„ï¼Ÿ"></a>30. ä½ æ˜¯æ€ä¹ˆå¤„ç† vue é¡¹ç›®ä¸­çš„é”™è¯¯çš„ï¼Ÿ</h2><h2 id="31-vue3-æœ‰äº†è§£è¿‡å—ï¼Ÿèƒ½è¯´è¯´è·Ÿ-vue2-çš„åŒºåˆ«å—ï¼Ÿ"><a href="#31-vue3-æœ‰äº†è§£è¿‡å—ï¼Ÿèƒ½è¯´è¯´è·Ÿ-vue2-çš„åŒºåˆ«å—ï¼Ÿ" class="headerlink" title="31. vue3 æœ‰äº†è§£è¿‡å—ï¼Ÿèƒ½è¯´è¯´è·Ÿ vue2 çš„åŒºåˆ«å—ï¼Ÿ"></a>31. vue3 æœ‰äº†è§£è¿‡å—ï¼Ÿèƒ½è¯´è¯´è·Ÿ vue2 çš„åŒºåˆ«å—ï¼Ÿ</h2><h3 id="1-åŒå‘æ•°æ®ç»‘å®šåŸç†ä¸åŒ"><a href="#1-åŒå‘æ•°æ®ç»‘å®šåŸç†ä¸åŒ" class="headerlink" title="1. åŒå‘æ•°æ®ç»‘å®šåŸç†ä¸åŒ"></a>1. åŒå‘æ•°æ®ç»‘å®šåŸç†ä¸åŒ</h3><blockquote>
<p>vue2ï¼švue2 çš„åŒå‘æ•°æ®ç»‘å®šæ˜¯åˆ©ç”¨ ES5 çš„ä¸€ä¸ª APIObject.definePropert() å¯¹æ•°æ®è¿›è¡ŒåŠ«æŒï¼Œç»“åˆå‘å¸ƒè®¢é˜…æ¨¡å¼çš„æ–¹å¼æ¥å®ç°çš„ã€‚</p>
</blockquote>
<blockquote>
<p>vue3ï¼švue3 ä¸­ä½¿ç”¨äº† ES6 çš„ Proxy API å¯¹æ•°æ®ä»£ç†ã€‚ç›¸æ¯” vue2.xï¼Œä½¿ç”¨ proxy çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p>
</blockquote>
<ol>
<li>defineProperty åªèƒ½ç›‘å¬æŸä¸ªå±æ€§ï¼Œä¸èƒ½å¯¹å…¨å¯¹è±¡ç›‘å¬</li>
<li>å¯ä»¥çœå» for inï¼Œé—­åŒ…ç­‰å†…å®¹æ¥æå‡æ•ˆç‡(ç›´æ¥ç»‘å®šæ•´ä¸ªå¯¹è±¡å³å¯)</li>
<li>å¯ä»¥ç›‘å¬æ•°ç»„ï¼Œä¸ç”¨å†å»å•ç‹¬çš„å¯¹æ•°ç»„åšç‰¹å¼‚æ€§æ“ä½œ vue3.x å¯ä»¥æ£€æµ‹åˆ°æ•°ç»„å†…éƒ¨æ•°æ®çš„å˜åŒ–ã€‚</li>
</ol>
<h3 id="2-æ˜¯å¦æ”¯æŒç¢ç‰‡-framents"><a href="#2-æ˜¯å¦æ”¯æŒç¢ç‰‡-framents" class="headerlink" title="2.æ˜¯å¦æ”¯æŒç¢ç‰‡(framents)"></a>2.æ˜¯å¦æ”¯æŒç¢ç‰‡(framents)</h3><blockquote>
<p>vue2 ä¸æ”¯æŒç¢ç‰‡ã€‚</p>
</blockquote>
<blockquote>
<p>vue3ï¼švue3 æ”¯æŒç¢ç‰‡ï¼ˆFragmentsï¼‰ ï¼Œå°±æ˜¯è¯´å¯ä»¥æ‹¥æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹ã€‚</p>
</blockquote>
<h3 id="3-API-ç±»å‹ä¸åŒ-compositon-Api"><a href="#3-API-ç±»å‹ä¸åŒ-compositon-Api" class="headerlink" title="3. API ç±»å‹ä¸åŒ (compositon Api)"></a>3. API ç±»å‹ä¸åŒ (compositon Api)</h3><blockquote>
<p>vue2ï¼švue2 ä½¿ç”¨é€‰é¡¹ç±»å‹ apiï¼Œé€‰é¡¹å‹ api åœ¨ä»£ç é‡Œåˆ†å‰²äº†ä¸åŒçš„å±æ€§ï¼šdata,computed,methods ç­‰ã€‚</p>
</blockquote>
<blockquote>
<p>vue3ï¼švue3 ä½¿ç”¨åˆæˆå‹ apiï¼Œæ–°çš„åˆæˆå‹ api èƒ½è®©æˆ‘ä»¬ä½¿ç”¨æ–¹æ³•æ¥åˆ†å‰²ï¼Œç›¸æ¯”äºæ—§çš„ api ä½¿ç”¨å±æ€§æ¥åˆ†ç»„ï¼Œè¿™æ ·ä»£ç ä¼šæ›´åŠ ç®€ä¾¿å’Œæ•´æ´ã€‚</p>
</blockquote>
<h3 id="4-å£°æ˜å‘¨æœŸé’©å­ä¸åŒ"><a href="#4-å£°æ˜å‘¨æœŸé’©å­ä¸åŒ" class="headerlink" title="4. å£°æ˜å‘¨æœŸé’©å­ä¸åŒ"></a>4. å£°æ˜å‘¨æœŸé’©å­ä¸åŒ</h3><table>
<thead>
<tr>
<th align="center">vue2</th>
<th align="center">vue3</th>
<th>vue</th>
</tr>
</thead>
<tbody><tr>
<td align="center">beforeCreate</td>
<td align="center"></td>
<td></td>
</tr>
<tr>
<td align="center">created</td>
<td align="center"></td>
<td></td>
</tr>
<tr>
<td align="center">beforeMount</td>
<td align="center">onBeforeMount</td>
<td></td>
</tr>
<tr>
<td align="center">mounted</td>
<td align="center">onMounted</td>
<td></td>
</tr>
<tr>
<td align="center">beforeUpdate</td>
<td align="center">onBeforeUpdate</td>
<td></td>
</tr>
<tr>
<td align="center">updated</td>
<td align="center">onUpdated</td>
<td></td>
</tr>
<tr>
<td align="center">beforeDestroy</td>
<td align="center">onBeforeUnmount</td>
<td></td>
</tr>
<tr>
<td align="center">destroyed</td>
<td align="center">onUnmounted</td>
<td></td>
</tr>
</tbody></table>
<h3 id="5-æ€§èƒ½ä¼˜åŒ–"><a href="#5-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="5. æ€§èƒ½ä¼˜åŒ–"></a>5. æ€§èƒ½ä¼˜åŒ–</h3><blockquote>
<p>Vue 3 æä¾›äº†æ›´å¥½çš„ Tree-shaking æ”¯æŒ\æ›´å°çš„ bundle å¤§å°\æ›´å¿«çš„æ›´æ–°é€Ÿåº¦ã€æ›´å¥½çš„ TypeScript æ”¯æŒ\æ›´é«˜æ•ˆçš„è™šæ‹Ÿ DOM å®ç°å’Œç¼–è¯‘ä¼˜åŒ–ã€‚</p>
</blockquote>
<h3 id="6-å¼‚æ­¥ç»„ä»¶ï¼ˆSuspenseï¼‰"><a href="#6-å¼‚æ­¥ç»„ä»¶ï¼ˆSuspenseï¼‰" class="headerlink" title="6. å¼‚æ­¥ç»„ä»¶ï¼ˆSuspenseï¼‰"></a>6. å¼‚æ­¥ç»„ä»¶ï¼ˆSuspenseï¼‰</h3><p>Vue3 æä¾› Suspense ç»„ä»¶ï¼Œå…è®¸ç¨‹åºåœ¨ç­‰å¾…å¼‚æ­¥ç»„ä»¶åŠ è½½å®Œæˆå‰æ¸²æŸ“å…œåº•çš„å†…å®¹ï¼Œå¦‚ loading ï¼Œä½¿ç”¨æˆ·çš„ä½“éªŒæ›´å¹³æ»‘ã€‚ä½¿ç”¨å®ƒï¼Œéœ€åœ¨æ¨¡æ¿ä¸­å£°æ˜ï¼Œå¹¶åŒ…æ‹¬ä¸¤ä¸ªå‘½åæ’æ§½ï¼šdefault å’Œ fallbackã€‚Suspense ç¡®ä¿åŠ è½½å®Œå¼‚æ­¥å†…å®¹æ—¶æ˜¾ç¤ºé»˜è®¤æ’æ§½ï¼Œå¹¶å°† fallback æ’æ§½ç”¨ä½œåŠ è½½çŠ¶æ€ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">tempalte</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">suspense</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">List</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">fallback</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        Loading...      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">suspense</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="7-Teleport"><a href="#7-Teleport" class="headerlink" title="7.Teleport"></a>7.Teleport</h3><p>Vue3 æä¾› Teleport ç»„ä»¶å¯å°†éƒ¨åˆ† DOM ç§»åŠ¨åˆ° Vue app ä¹‹å¤–çš„ä½ç½®ã€‚æ¯”å¦‚é¡¹ç›®ä¸­å¸¸è§çš„ Dialog å¼¹çª—ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;dialogVisible = true&quot;</span>&gt;</span>æ˜¾ç¤ºå¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">teleport</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;body&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dialog&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;dialogVisible&quot;</span>&gt;</span><br>    æˆ‘æ˜¯å¼¹çª—ï¼Œæˆ‘ç›´æ¥ç§»åŠ¨åˆ°äº†bodyæ ‡ç­¾ä¸‹<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">teleport</span>&gt;</span><br></code></pre></td></tr></table></figure>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Vue%E7%B3%BB%E5%88%97-1/">#Vueç³»åˆ—-1</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Vueç³»åˆ—</div>
      <div>http://example.com/2024/02/17/é¢è¯•çŸ¥è¯†ç‚¹/Vueç³»åˆ—/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>å°æ—¥æœˆ</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2024å¹´2æœˆ17æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/02/22/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/VUE3%E7%B3%BB%E5%88%97/" title="VUE3ç³»åˆ—">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">VUE3ç³»åˆ—</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/02/17/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/interview-frontend/" title="interview-frontend">
                        <span class="hidden-mobile">interview-frontend</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 


        <!-- æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´ -->
        <div class="footer-content">
          <div>
            <span id="timeDate">è½½å…¥å¤©æ•°...</span>
            <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
            <script>
              var now = new Date();
              function createtime() {
                var grt = new Date("04/03/2020 00:00:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
                now.setTime(now.getTime() + 250);
                days = (now - grt) / 1000 / 60 / 60 / 24;
                dnum = Math.floor(days);
                hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);
                hnum = Math.floor(hours);
                if (String(hnum).length == 1) {
                  hnum = "0" + hnum;
                }
                minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
                mnum = Math.floor(minutes);
                if (String(mnum).length == 1) {
                  mnum = "0" + mnum;
                }
                seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
                snum = Math.round(seconds);
                if (String(snum).length == 1) {
                  snum = "0" + snum;
                }
                document.getElementById("timeDate").innerHTML = "ğŸš€ &nbsp" + dnum + "&nbspå¤©";  //æ­¤æ¬¡è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹
                document.getElementById("times").innerHTML = hnum + "&nbspå°æ—¶&nbsp" + mnum + "&nbspåˆ†&nbsp" + snum + "&nbspç§’";
              }  //æ­¤æ¬¡è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹
              setInterval("createtime()", 250);
            </script>
          </div>
        </div>


    </div>
    
      
        <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="busuanzi_value_site_pv"></span>
         æ¬¡
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="busuanzi_value_site_uv"></span>
         äºº
      </span>
    
    
  
</div>

          
            
                  
</div>
  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":true,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
